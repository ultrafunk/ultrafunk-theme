import{$ as N,B as Et,C as L,G as Ct,Ka as F,L as V,M as U,N as $,Na as $t,O as D,P as Tt,Q as x,R as H,S as st,Sa as At,T as wt,U as k,V as T,W as E,Wa as xt,X as Lt,Y as G,Z as It,_ as ot,aa as at,ba as _,i as w,l as pt,m as yt,n as P,o as bt,q as c,r as it,s as kt,t as B,u as K,v as rt,w as St,x as vt,y as R,z as b}from"./chunk-PWADS3TO.js";var Mt=w("share-modal"),he=()=>{let t=/\s{1,}[\u002D\u00B7\u2013]\s{1,}/i,e,n,i,r,o,s,u,a,d;return{show:g};function g(p){return{title:e="Share / Play Track",bodyText:n=null,filterBodyText:i=!1,bodyHtml:r=null,url:o=null,urlType:s="Link",sourceUid:u=null,verb:a="Play",icon:d="link"}=p,_(e,I(),"share",A)}function I(){let p=[{clickId:"copyToClipboardId",icon:"content_copy",content:"<b>Copy Link</b> to Clipboard"},{clickId:"shareOnEmailId",icon:"share",content:"<b>Share</b> on Email"},{clickId:"searchOnGoogleId",icon:"search",content:"<b>Search</b> on Google"},{clickId:"amazonMusicId",icon:d,content:`<b>${a}</b> on Amazon Music`},{clickId:"appleMusicId",icon:d,content:`<b>${a}</b> on Apple Music`},{clickId:"spotifyId",icon:d,content:`<b>${a}</b> on Spotify`},{clickId:"youTubeMusicId",icon:d,content:`<b>${a}</b> on YouTube Music`}];return r!==null&&p.unshift({class:"track-share-entry",content:r}),p}function A(p){Mt.log(`singleChoiceListClick(): ${p} - title: "${e}" - bodyText: "${n}" - filterBodyText: ${i} - url: ${o} - urlType: ${s} - sourceUid: ${u} - verb: ${a}`);let l=encodeURIComponent(i?n.replace(t," "):n);switch(p){case"copyToClipboardId":lt(o,s);break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(`Ultrafunk ${s}: ${n}`)}&body=${encodeURI(o)}%0d%0a`;break;case"searchOnGoogleId":window.open(`https://www.google.com/search?q=${l}`,"_blank");break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${l}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${l}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${l}`,"_blank");break;case"youTubeMusicId":u!==null?window.open(`https://music.youtube.com/watch?v=${u}`,"_blank"):window.open(`https://music.youtube.com/search?q=${l}`,"_blank");break}}},j=he();function lt(t,e="Content"){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{L(`${e} copied to clipboard`,3)},n=>{_t(n,t,e)}):me(t)?L(`${e} copied to clipboard`,3):_t(`document.execCommand('copy') for "${t}" failed!`,t,e)}function me(t){let e=document.createElement("textarea");document.body.appendChild(e),e.textContent=t,e.select();let n=document.execCommand("copy");return document.body.removeChild(e),n}function _t(t,e,n){Mt.error(`copyTextToClipboard() error: ${t}`);let i=`
    <style>
      .modal-dialog-body p.modal-clipboard-content {
        padding: 10px 15px;
        border-radius: var(--dialog-border-radius);
        background-color: var(--list-row-odd-color);
      }
    </style>
    <p class="modal-clipboard-error">Failed to write ${n} to the clipboard, please copy the text below:</p>
    <p class="modal-clipboard-content">${e}</p>`;_("Copy to Clipboard error!",i)}var mt=w("site-interaction"),C=document.documentElement.classList,Pt={metaUiElements:null,listUiElements:null},X={},Q={};function Rt(){mt.log("init()"),Pt.metaUiElements=new ct("div.track-meta",!0),Pt.listUiElements=new ut("#tracklist"),X=new dt("footer-site-theme-toggle"),Q=new ht("footer-gallery-layout-toggle"),window.addEventListener("load",()=>{document.querySelector(".widget ul.uf_channel")?.addEventListener("click",W),document.querySelector(".widget ul.uf_artist")?.addEventListener("click",W),document.querySelector(".widget.widget_archive ul")?.addEventListener("click",W)})}function Ut(){X.setCurrent(),Q.setCurrent()}var ct=class extends N{elementClicked(){if(this.clicked("div.track-share-control"))return Ht(this.closest("single-track, gallery-track"));if(this.clicked("span.term-links"))return W(this.event)}},ut=class extends N{elementClicked(){if(this.clicked("div.share-play-button"))return Ht(this.closest("div.track-entry"));if(this.clicked("div.details-button"))return fe(this.closest("div.track-entry"))}};function W(t){t.target.matches("a")&&(t?.preventDefault(),T(E(t.target.href)))}function Ht(t){let e=k(t,"data-track-artist"),n=k(t,"data-track-title"),i=j.show({bodyText:`${e} - ${n}`,filterBodyText:!0,bodyHtml:at(t,e,n),url:k(t,"data-track-url"),urlType:"Track link",sourceUid:k(t,"data-track-source-uid")});Ft(i,`${e} - ${n}`)}function fe(t){let e=k(t,"data-track-artist"),n=k(t,"data-track-title"),i=parseInt(t.getAttribute("data-track-duration")),r=t.querySelector(".track-artists-links").querySelectorAll("a"),o=t.querySelector(".track-channels-links").querySelectorAll("a"),s=[];s.push({class:"track-details-entry",content:at(t,e,n)}),s.push({class:"header-entry",content:"Artists"}),r.forEach(a=>{s.push({clickId:`entry-${s.length}`,class:`icon-text ${a.classList[0]}`,title:"Go to Artist",content:a.innerText,link:a.href,icon:"link"})}),s.push({class:"header-entry",content:"Channels"}),o.forEach(a=>{s.push({clickId:`entry-${s.length}`,title:"Go to Channel",content:a.innerText,link:a.href,icon:"link"})});let u=_(`Track Details<span class="light-text lowercase-text">${i>0?wt(i):"N / A"}</span>`,s,"track-details",a=>{T(s.find(d=>d.clickId===a).link)});Ft(u,`${e} - ${n}`)}function Ft(t,e){document.getElementById(t).querySelector(".modal-track .modal-track-thumbnail").title="Click / tap to Copy Artist & Title",document.getElementById(t)?.querySelector("img")?.addEventListener("click",()=>lt(e,"Artist &amp Title"))}function Ot(t,e,n){let i=Object.values(t).find(r=>r.id===e);return i!==void 0?i:n}function qt(t,e){let n=Object.values(t).findIndex(r=>r.id===e.id),i=Object.keys(t);return n+1<i.length?t[i[n+1]]:t[i[0]]}var dt=class extends ot{constructor(e){super(e,!1),this.themes={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}},this.setCurrent(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>this.matchMediaPrefColorScheme())}setCurrent(){this.currentTheme=Ot(this.themes,b.site.theme,this.themes.auto),this.update()}matchMediaPrefColorScheme(){this.currentTheme.id===this.themes.auto.id&&this.update()}toggle(){this.currentTheme=qt(this.themes,this.currentTheme),b.site.theme=this.currentTheme.id}update(){let e=this.currentTheme;this.currentTheme.id===this.themes.auto.id&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?this.themes.dark:this.themes.light),rt(c.UF_SITE_THEME,e.id),C.contains(e.class)===!1&&(mt.log(`SiteThemeToggle.update() - newSiteTheme: ${e.id}`),C.remove(this.themes.light.class,this.themes.dark.class),C.add(e.class)),this.value=this.currentTheme.text}},ht=class extends ot{constructor(e){super(e,!1),this.minWidth=`(max-width: ${Tt("--gallery-layout-min-width")})`,this.layouts={oneColumn:{id:"1-column",text:"1 column",class:"gallery-1-col"},twoColumn:{id:"2-column",text:"2 column",class:"gallery-2-col"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"gallery-3-col"}},this.setCurrent(),window.matchMedia(this.minWidth).addEventListener("change",n=>this.matchMediaMinWidth(n))}setCurrent(){this.currentLayout=Ot(this.layouts,b.gallery.layout,this.layouts.threeColumn),this.update()}matchMediaMinWidth(e){C.contains("gallery-layout")&&(e.matches?(C.remove(this.currentLayout.class),C.add(this.layouts.oneColumn.class)):(C.remove(this.layouts.oneColumn.class),C.add(this.currentLayout.class)))}toggle(){this.currentLayout=qt(this.layouts,this.currentLayout),b.gallery.layout=this.currentLayout.id}update(e){this.value=this.currentLayout.text,rt(c.UF_GALLERY_LAYOUT,this.currentLayout.id),!window.matchMedia(this.minWidth).matches&&(C.contains("gallery-layout")&&C.contains(this.currentLayout.class)===!1&&(mt.log(`GalleryLayoutToggle.update() - newGalleryLayout: ${this.currentLayout.id}`),C.remove(this.layouts.oneColumn.class,this.layouts.twoColumn.class,this.layouts.threeColumn.class),C.add(this.currentLayout.class)),e?.type==="click"&&this.element.scrollIntoView())}};function Bt(t,e,n){let i=`<b>${t}</b>`;return n.forEach((r,o)=>{let s=Lt(r.meta);i+=`
    <div class="track">
      <div class="thumbnail ${s.class}"
        data-term-url="${r.link}"
        data-term-slug="${e}"
        data-track-num="${o+1}"
        data-track-type="${r.meta.track_source_type}"
        data-track-id="track-${r.id}"
        data-track-source-uid="${s.uid}" title="Play Track"
        >
        <img src="${s.src}">
      </div>
      <div class="artist-title text-nowrap-ellipsis">
        <a href="${r.link}" title="Go to track"><span><b>${r.meta.track_artist}</b></span><br><span>${r.meta.track_title}</span></a>
      </div>
    </div>`}),i}function Dt(t,e){let n=`<b>${t}</b><br>`;return e.forEach(i=>n+=`<a href="${E(i.link)}">${i.name}</a>, `),n.slice(0,n.length-2)}function Nt(t,e,n){let i=`<b>${t}</b><br>`;return e.forEach(r=>{i+=`<a href="${E(`${V}/artist/${r.artist_slug}/?channel=${n}`)}">${r.artist_name}</a> (${r.track_count})<br>`}),i}var f={termCache:{}};function ft(t,e,n){let i=k(t,"data-term-type"),r=parseInt(e.getAttribute("data-term-id")),o=k(e,"data-term-slug"),s=i==="channels";pe(i,r,s?10:50,async u=>{let a=s?"Latest Tracks":"All Tracks",d=n.querySelector(".body-left");if(u!==null?(d.innerHTML=Bt(a,o,u),e.setAttribute("data-is-fetched",1)):L("Failed to fetch track data!",30,"retry",()=>ft(t,e,n)),!s&&u!==null)ye(u,r,50,(g,I)=>{a=g==="artists"?"Related Artists":"In Channels",d=g==="artists"?n.querySelector(".artists"):n.querySelector(".channels"),I!==null?d.innerHTML=Dt(a,I):d.innerHTML=`<b>${a}</b><br>None found`});else if(u!==null){if(!("topArtists"in f.termCache[r])){let g=await G({endpoint:"top-artists",query:`channelId=${r}`,returnStatus:!0,path:"/wp-json/ultrafunk/v1/"});g!==null&&g.status.code===200&&(f.termCache[r].topArtists=g.data)}n.querySelector(".top-artists").innerHTML=Nt("Top Artists (tracks)",f.termCache[r].topArtists,o)}})}async function pe(t,e,n,i){if(!(e in f.termCache)){let r=await G({endpoint:"tracks",query:`${t}=${e}&per_page=${n}&_fields=id,link,artists,channels,meta`,returnStatus:!0});r!==null&&r.status.code===200&&(f.termCache[e]={tracks:r.data})}i(f.termCache[e]!==void 0?f.termCache[e].tracks:null)}function ye(t,e,n,i){if("channels"in f.termCache[e]&&"artists"in f.termCache[e])i("channels",f.termCache[e].channels),i("artists",f.termCache[e].artists);else{let r=[],o=[];t.forEach(s=>{r.push.apply(r,s.channels),o.push.apply(o,s.artists)}),o=o.filter(s=>s!==e),Yt("channels",e,[...new Set(r)],n,i),Yt("artists",e,[...new Set(o)],n,i)}}async function Yt(t,e,n,i,r){if(n.length>0){let o=await G({endpoint:t,query:`include=${n}&per_page=${i}&_fields=link,name`,returnStatus:!0});o!==null&&o.status.code===200&&(f.termCache[e][t]=o.data)}else f.termCache[e][t]=null;r(t,f.termCache[e][t]!==void 0?f.termCache[e][t]:null)}function Kt(){f.termCache=JSON.parse(sessionStorage.getItem(c.UF_TERMLIST_CACHE)),f.termCache===null&&(f.termCache={})}function Vt(){sessionStorage.setItem(c.UF_TERMLIST_CACHE,JSON.stringify(f.termCache))}function Gt(){sessionStorage.removeItem(c.UF_TERMLIST_CACHE)}function zt(){return Object.keys(f.termCache).length>0}var jt=w("termlist"),h={listContainer:null,uiElements:null,navTitleFoundItems:null,termlistFilterInput:null,termlistEntries:null,transitionTimeoutId:0},ke=new Event("allowKeyboardShortcuts"),Se=new Event("denyKeyboardShortcuts");function Wt(){jt.log("initTermlist()"),h.listContainer=document.getElementById("termlist-container"),h.uiElements=new gt("#termlist-container"),Ee(),ve()}function Jt(){if(zt()){let t={pageUrl:window.location.href,scrollPos:Math.round(window.pageYOffset),openTermIds:[]};document.querySelectorAll(".termlist-entry").forEach(e=>{e.getAttribute("data-is-expanded")==="1"&&t.openTermIds.push(e.id)}),sessionStorage.setItem(c.UF_TERMLIST_STATE,JSON.stringify(t)),Vt()}}function ve(){if(Kt(),performance.getEntriesByType("navigation")[0].type!=="reload"){let t=JSON.parse(sessionStorage.getItem(c.UF_TERMLIST_STATE));t!==null&&t.pageUrl===window.location.href?(history.scrollRestoration="manual",t.openTermIds.forEach(e=>{document.getElementById(e).querySelector("div.termlist-header").click()}),window.scroll({top:t.scrollPos,left:0,behavior:"auto"})):history.scrollRestoration="auto"}sessionStorage.removeItem(c.UF_TERMLIST_STATE),Gt()}function Ee(){h.listContainer.getAttribute("data-term-type")==="artists"&&(h.navTitleFoundItems=document.querySelectorAll("div.navbar-title span.found-items"),h.termlistFilterInput=document.getElementById("termlist-filter-input"),h.termlistEntries=h.listContainer.querySelectorAll(".termlist-entry"),h.termlistFilterInput.addEventListener("keyup",t=>Te(t)),h.termlistFilterInput.addEventListener("focus",()=>document.dispatchEvent(Se)),h.termlistFilterInput.addEventListener("blur",()=>document.dispatchEvent(ke)),termsListArray.forEach(t=>t.name=t.name.toLowerCase()),document.querySelector("div.artist-letter.current").scrollIntoView(!1))}function Ce(t){return t==="ArrowLeft"||t==="ArrowRight"||t==="Home"||t==="End"||t==="Shift"}function Te(t){if(Ce(t.key))return;let e=performance.now(),n=h.termlistFilterInput.value.toLowerCase(),i=h.termlistEntries.length;if(h.listContainer.classList.add("notransitions"),n.length>=3){let s=termsListArray.filter(a=>a.name.includes(n)),u=1;i=s.length>0?s.length:0,h.termlistEntries.forEach(a=>{s.some(d=>d.id===a.id)===!1?a.className="termlist-entry hidden":a.className=`termlist-entry ${u++%2?"odd":"even"}`})}else h.termlistEntries.forEach(s=>s.className="termlist-entry");let r=n.length>=3?`"${n}" - `:"";h.navTitleFoundItems.forEach(s=>s.textContent=` ( ${r}${i} found )`),clearTimeout(h.transitionTimeoutId),h.transitionTimeoutId=setTimeout(()=>h.listContainer.classList.remove("notransitions"),250);let o=performance.now();jt.log(`filterTermsList(): ${Math.round((o-e)*100)/100} ms.`)}var gt=class extends N{elementClicked(){if(this.clicked("div.play-button"))return Z(this.event,E(this.querySelector("a").href));if(this.clicked("div.shuffle-button"))return we(this.event,E(this.querySelector("a").href));if(this.clicked("div.share-find-button"))return Le(this.element);if(this.clicked("div.termlist-header"))return Ae(this.event);if(this.clicked("div.thumbnail"))return Ie(this.event,this.element);if(this.clicked("a"))return $e(this.event,this.element)}};function Z(t,e,n=null){t?.preventDefault(),Jt(),sessionStorage.setItem(c.UF_AUTOPLAY,JSON.stringify({autoplay:t.shiftKey===!1,trackId:n,position:0})),T(e)}function we(t,e){B(c.UF_RESHUFFLE,"true"),Z(t,e)}function Le(t){let e=k(t,"data-term-name"),n=h.listContainer.getAttribute("data-term-type")==="channels"?"Channel link":"Artist link";j.show({title:`Share / Find ${k(t,"data-term-path")}`,bodyText:e,bodyHtml:`<b>${e}</b>`,url:E(t.getAttribute("data-term-url")),urlType:n,verb:"Find",icon:"search"})}function Ie(t,e){let n=h.listContainer.getAttribute("data-term-type")==="channels"?"channel":"artist",i=k(e,"data-term-slug"),r=parseInt(e.getAttribute("data-track-type")),o=e.getAttribute("data-track-source-uid");if(b.playback.preferredPlayer===yt.GALLERY||r===Ct.SOUNDCLOUD)Z(t,e.getAttribute("data-term-url"),null);else{let s=parseInt(e.getAttribute("data-track-num")),u="";s>R.listPerPage&&(u=`page/${Math.ceil(s/R.listPerPage)}/`),Z(t,`${V}/list/${n}/${i}/${u}`,o)}}function $e(t,e){Jt(),e.closest("div.permalink")!==null&&(t?.preventDefault(),T(E(e.href)))}function Ae(t){let e=t.target.closest("div.termlist-entry"),n=e.querySelector("div.expand-toggle span"),i=e.querySelector("div.termlist-body"),r=e.getAttribute("data-is-expanded")==="1",o=e.getAttribute("data-is-fetched")==="1";e.setAttribute("data-is-expanded",r?"":"1"),n.textContent=r?"expand_more":"expand_less",i.style.display=r?"":"flex",!r&&!o&&ft(h.listContainer,e,i)}var Xt=w("settings-ui"),y={settings:null,container:null},M={containerId:"settings-container",saveResetId:"settings-save-reset",updatedEvent:new Event("settingsUpdated")},S=[{name:"Playback",id:"playback",schema:P.playback},{name:"List Player",id:"list",schema:P.list},{name:"Gallery Player",id:"gallery",schema:P.gallery},{name:"Mobile",id:"mobile",schema:P.mobile},{name:"Site",id:"site",schema:P.site}],Pe=`<h3>An error occurred while reading Playback and Site settings</h3>
  <p>This can be caused by several issues, but most likely it happened because of corrupt or malformed JSON data in the browsers Local Storage.</p>
  <p>Clearing all settings stored locally in the browser will probably fix the problem, click on the button below to do that.
  <b>Note:</b> All Playback and Site settings will be reset to default values.</p>
  <div class="settings-clear"><b>Clear All Settings</b></div>
  <p>If that does not work, another possible fix is to clear all cached data stored in the browser, the following links contain more information about how to do that for
  <a href="https://support.google.com/accounts/answer/32050">Chrome</a> and
  <a href="https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox">Firefox</a>.</p>`;function ne(){if(Xt.log("initSettingsUi"),y.container=document.getElementById(M.containerId),y.container!==null){if(document.URL.includes("?clear=true")){Qt();return}ie(!1),y.settings!==null?(S.forEach(t=>Re(y.settings[t.id],t.schema)),He(),y.container.style.opacity=1,y.container.addEventListener("click",t=>te(t)),y.container.addEventListener("contextmenu",t=>te(t)),$(`#${M.saveResetId} .settings-save`,"click",qe),$(`#${M.saveResetId} .settings-reset`,"click",Be)):Qt()}else Xt.error(`Unable to getElementById() for '#${M.containerId}'`)}function Qt(){document.getElementById(M.saveResetId).style.display="none",y.container.insertAdjacentHTML("afterbegin",Pe),y.container.style.minHeight="100%",y.container.style.opacity=1,$(`#${M.containerId} .settings-clear`,"click",()=>{localStorage.removeItem(c.UF_SETTINGS),localStorage.removeItem(c.UF_SITE_THEME),localStorage.removeItem(c.UF_GALLERY_LAYOUT),K(c.UF_GALLERY_PER_PAGE),K(c.UF_PREFERRED_PLAYER),K(c.UF_SHUFFLE_UID),ie(!0),y.settings!==null?L("All settings have been cleared",5,"Reload",()=>window.location.href="/settings/",()=>window.location.href="/settings/"):L("Sorry, unable to clear all settings",5)})}function ie(t=!1){y.settings=St(c.UF_SETTINGS,t?bt:null,t)}function re(){vt(c.UF_SETTINGS,y.settings),document.dispatchEvent(M.updatedEvent)}function Re(t,e){Object.entries(t).forEach(([n,i])=>{n in e&&(e[n].current=Y(e[n],i),e[n].current===-1&&(e[n].current=Y(e[n],e[n].default)))})}function Ue(t,e){Object.keys(t).forEach(n=>{n in e&&(t[n]=e[n].default,e[n].current=Y(e[n],e[n].default))})}function Y(t,e){return t.values.findIndex(n=>n===e)}function He(){let t=`
<h3>${S[0].name}</h3>
<table id="${S[0].id}-settings" class="settings">
<tbody>`;Object.entries(S[0].schema).forEach(e=>t+=Zt(S[0].id,e)),S.slice(1).forEach(e=>{t+=`
</tbody>
</table>
<h3>${e.name}</h3>
<table id="${e.id}-settings" class="settings">
<tbody>`,Object.entries(e.schema).forEach(n=>t+=Zt(e.id,n))}),y.container.insertAdjacentHTML("afterbegin",t+`
</tbody>
</table>
`)}function Zt(t,e){let n=e[1].valueStrings[Y(e[1],e[1].default)];return`
<tr id="${t}:${e[0]}" class="settings-entry" title="Default: ${n}">
      <td class="description">${e[1].description}</td>
      <td class="${se(e[1])}">${e[1].valueStrings[e[1].current]}</td>
    </tr>`}function se(t){switch(t.type){case 1:return"value-string type-integer";case 3:return"value-string type-string";case 2:return`value-string type-boolean current-value-${t.values[t.current]===!0?"true":"false"}`}}function Fe(t,e,n,i){i.current=i.current+1<i.values.length?i.current+1:i.current=0,e[n]=i.values[i.current],oe(t.querySelector(".value-string"),i)}function oe(t,e){t.classList=se(e),t.textContent=e.valueStrings[e.current]}function Oe(t,e,n){Object.keys(t).forEach(i=>{i in e&&oe(document.getElementById(`${n}:${i}`).querySelector(".value-string"),e[i])})}function te(t){let e=t.target.closest("tr");if(e!==null){let n=e.id.split(":")[0],i=e.id.split(":")[1],r=S.findIndex(o=>o.id===n);t.type==="contextmenu"?(t.pointerType==="touch"||t.mozInputSource===5)&&(t.preventDefault(),ee(S[r].name,S[r].schema[i])):t.shiftKey===!0?ee(S[r].name,S[r].schema[i]):Fe(e,y.settings[S[r].id],i,S[r].schema[i])}}function ee(t,e){let n="";e.valueStrings.forEach(i=>n+=`${i}, `),_(`${t} setting details`,`<p><b>Description</b><br>${e.description}</p>
     <p><b>Values</b><br>${n.slice(0,n.length-2)}</p>
     <p><b>Current Value</b><br>${e.valueStrings[e.current]}</p>
     <p><b>Default Value</b><br>${e.valueStrings[Y(e,e.default)]}</p>`)}function qe(){re(),L("All settings saved",3)}function Be(){S.forEach(t=>{Ue(y.settings[t.id],t.schema),Oe(y.settings[t.id],t.schema,t.id)}),L("All settings reset",4,"Undo",()=>location.reload(),()=>re())}var De=()=>{let t=new ResizeObserver(g),e=null,n=null,i=null,r=null,o=!1,s=0;return window.addEventListener("load",()=>{$("#menu-primary-sections .menu-item-reshuffle a","click",$t),$("#menu-primary-sections .menu-item-pref-player","click",()=>At.toggle()),document.getElementById("menu-primary-channels")?.addEventListener("click",d)}),{isVisible(){return o},scrolledTop(){n.style.display=""},init:u,toggle:a};function u(){e=document.getElementById("site-header"),n=document.querySelector("#site-navigation .nav-menu-outer"),i=document.querySelector("#site-navigation .nav-menu-inner"),r=document.getElementById("nav-menu-modal-overlay"),D("div.nav-menu-toggle","click",a),r.addEventListener("click",a),window.addEventListener("resize",()=>I()),t.observe(n)}function a(){s=e.offsetHeight,e.classList.contains("sticky-nav-up")?n.style.display=o?"none":"flex":e.classList.contains("sticky-nav-down")===!1&&e.classList.toggle("hide-nav-menu")}function d(p){let l=p.target.closest("li.menu-item.menu-item-object-uf_channel");l!==null&&(xt()||F())&&(p?.preventDefault(),T(E(l.querySelector("a").href)))}function g(p){o=p[0].contentRect.height!==0,o?r.className===""&&(r.style.backgroundColor=`rgba(0, 0, 0, ${Math.round(10*(b.site.modalOverlayOpacity/100))/10})`,r.classList.add("show"),H(U.SITE_MAX_WIDTH_MOBILE)&&A("hidden","close","100vh"),I()):(r.className="",n.style.display="",A())}function I(){if(o&&H(U.SITE_MAX_WIDTH_MOBILE)){let p=x("margin-top",i)+x("margin-bottom",i);i.style=`overflow-y: auto; max-height: ${window.innerHeight-(s+p)}px`}}function A(p="",l="menu",v=""){document.documentElement.style.overflowY=p,e.querySelectorAll(".nav-menu-toggle span")?.forEach(nt=>nt.textContent=l),e.style.height=v,i.style=""}},O=De();var Ne=()=>{let t=new Event("allowKeyboardShortcuts"),e=new Event("denyKeyboardShortcuts"),n=null,i=null,r=null,o=null,s=!1;return{isVisible(){return s},init:u,toggle:a,hide:d};function u(){n=document.getElementById("site-header"),i=document.getElementById("search-container"),r=i.querySelector(".search-field"),o=n.querySelector("div.site-branding-container"),D(".nav-search-toggle","click",a),D(".nav-search-toggle","mousedown",l=>l.preventDefault()),r.addEventListener("blur",d),r.addEventListener("keydown",l=>{l.key==="Escape"&&s&&(l.stopPropagation(),d())})}function a(){g()?I():d()}function d(){s&&A(!1,t,"","search")}function g(){return i.style.display.length===0?!(n.offsetHeight===0||H(U.SITE_MAX_WIDTH_MOBILE)&&n.querySelector(".navbar-container-mobile-top").offsetHeight===0&&n.querySelector(".navbar-container-mobile-up").offsetHeight===0):!1}function I(){p(),A(!0,e,"flex","close"),r.focus(),r.setSelectionRange(9999,9999)}function A(l,v,nt,ue){s=l,document.dispatchEvent(v),i.style.display=nt,document.querySelectorAll("div.nav-search-toggle span").forEach(de=>de.textContent=ue),s?document.getElementById("playback-controls").classList.add("hide"):document.getElementById("playback-controls").classList.remove("hide")}function p(){let l={};if(H(U.SITE_MAX_WIDTH_MOBILE))o.offsetHeight!==0?l.top=o.offsetTop:l.top=n.querySelector(".navbar-container-mobile-up").offsetTop,l=new DOMRect(63,l.top+3,document.body.clientWidth-60,30);else if(o.offsetHeight!==0){let v=o.getBoundingClientRect();l=new DOMRect(v.left,v.top+7,v.right,v.height-15)}else{let v=n.querySelector(".navbar-container").getBoundingClientRect();l=new DOMRect(v.left+88,v.top,v.right-90,v.height-1)}i.style.left=`${l.left}px`,i.style.top=`${l.top}px`,i.style.width=`${l.width-l.left}px`,i.style.height=`${l.height}px`}},q=Ne();var le=w("index"),ce={keyboardShortcuts:null},m={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{le.log("DOMContentLoaded"),Ye(),m.introBanner!==null&&Ge(),document.getElementById("termlist-container")!==null&&Wt(),document.getElementById("settings-container")!==null&&ne(),m.siteContentSearch!==null&&(m.siteContentSearch.focus(),m.siteContentSearch.setSelectionRange(9999,9999)),ze(),pt()});function Ye(){le.log("initIndex()"),ce.keyboardShortcuts=It(b.site.keyboardShortcuts),m.siteHeader=document.getElementById("site-header"),m.introBanner=document.getElementById("intro-banner"),m.siteContent=document.getElementById("site-content"),m.siteContentSearch=document.querySelector("#site-content form input.search-field"),Rt(),q.init(),O.init(),et.addEventListener(),je.addEventListener(),document.addEventListener("fullscreenElement",t=>m.fullscreenTarget=t.fullscreenTarget),document.addEventListener("keydown",Ke)}document.addEventListener("settingsUpdated",()=>{Et(),Ut(),B(c.UF_GALLERY_PER_PAGE,b.gallery.tracksPerPage,it*5),B(c.UF_PREFERRED_PLAYER,b.playback.preferredPlayer,it*5)});function Ke(t){if(t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"Escape":O.isVisible()&&(t.preventDefault(),O.toggle());return}if(ce.keyboardShortcuts.allow()&&t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"c":case"C":tt()&&(t.preventDefault(),O.toggle());break;case"L":tt()&&ae()&&(Q.toggle(t),et.trigger());break;case"s":case"S":tt()&&Ve()&&(t.preventDefault(),q.toggle());break;case"T":tt()&&ae()&&X.toggle(t);break;case"ArrowLeft":t.shiftKey&&F()&&(t.preventDefault(),T(R.prevPage));break;case"ArrowRight":t.shiftKey&&F()&&(t.preventDefault(),T(R.nextPage));break}}function tt(){return q.isVisible()===!1&&m.siteContentSearch!==document.activeElement}function ae(){return document.body.classList.contains("page-settings")===!1}function Ve(){return m.fullscreenTarget===null}function Ge(){kt("localStorage")&&bannerProperty&&b.banners[bannerProperty]&&(m.introBanner.style.display="block",et.trigger(),$("#intro-banner .intro-banner-close-button","click",()=>{m.introBanner.style.display="",m.siteContent.style.marginTop="",b.banners[bannerProperty]=!1}))}function ze(){if(document.querySelector(".navbar-title .go-back-to")!==null){let t="";if(document.referrer.length===0)t="Previous Page";else{let e=new URL(decodeURIComponent(document.referrer));if(e.search.length!==0)t="Search Results";else if(e.pathname.length>1){let n=e.pathname.slice(-1)==="/"?1:0,i=e.pathname.slice(1,e.pathname.length-n).replace(/-/gi," ").split("/");i.forEach((r,o)=>{t+=o+1<i.length?r+" / ":r})}}document.querySelectorAll("#site-navigation .navbar-title").forEach(e=>{e.querySelector(".go-back-title").textContent=t.length>0?t:"Ultrafunk (home)",e.querySelector(".go-back-to").style.opacity=1})}}var et=(()=>{let t=0;return{getSiteHeaderYOffset(){return t},addEventListener:e,trigger:n};function e(){n(),window.addEventListener("resize",n)}function n(){let i=0;F()?i=x("--site-header-height-no-playback"):i=x("--site-header-height"),t=Math.round(i>150?i/2:i/3),m.introBanner!==null&&m.introBanner.style.display.length!==0&&(m.introBanner.style.marginTop=`${i}px`,m.siteContent.style.marginTop=`${x("--site-content-margin-top",document.body)}px`)}})(),je=(()=>{let t=0,e=0,n=0,i=!1,r=44;return{addEventListener:o};function o(){s(),window.addEventListener("scroll",s)}function s(){let g=window.pageYOffset;g===0&&u(),g>t?(n+=g-t,n>r&&g>et.getSiteHeaderYOffset()&&(e=0,a())):(e+=t-g,e>r&&(n=0,d())),t=g}function u(){m.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),m.siteHeader.classList.add("hide-nav-menu"),q.hide(),O.scrolledTop()}function a(){i===!1&&(i=!0,st(m.siteHeader,"sticky-nav-up","sticky-nav-down"),q.hide())}function d(){i===!0&&(i=!1,st(m.siteHeader,"sticky-nav-down","sticky-nav-up"))}})();
//# sourceMappingURL=index.js.map
