import{A as vt,F as Q,Fa as R,G as k,Ga as $t,H as Et,Ha as At,I as Ct,Ia as xt,J as M,K as Z,L as tt,M as g,N as T,O as E,Oa as _t,P as Tt,Q as wt,R as Lt,S as It,T as et,Ta as Pt,U as O,V as it,W as $,X as G,Y as V,Ya as F,b as Y,c as L,e as ht,f as ft,g as _,h as pt,j as o,k as B,l as P,m as H,n as X,o as gt,p as yt,q as bt,r as U,s as p,u as kt,v,w as St}from"./chunk-PCQ5LF6M.js";var Mt=L("share-modal"),ge=()=>{let t=/\s{1,}[\u002D\u00B7\u2013]\s{1,}/i,e,i,n,s,a,r,h,l,d;return{show:f};function f(y){return{title:e="Share / Play Track",bodyText:i=null,filterBodyText:n=!1,bodyHtml:s=null,url:a=null,urlType:r="Link",sourceUid:h=null,verb:l="Play",icon:d="link"}=y,$(e,I(),"share",N)}function I(){let y=[{clickId:"copyToClipboardId",icon:"content_copy",content:"<b>Copy Link</b> to Clipboard"},{clickId:"shareOnEmailId",icon:"share",content:"<b>Share</b> on Email"},{clickId:"searchOnGoogleId",icon:"search",content:"<b>Search</b> on Google"},{clickId:"amazonMusicId",icon:d,content:`<b>${l}</b> on Amazon Music`},{clickId:"appleMusicId",icon:d,content:`<b>${l}</b> on Apple Music`},{clickId:"spotifyId",icon:d,content:`<b>${l}</b> on Spotify`},{clickId:"youTubeMusicId",icon:d,content:`<b>${l}</b> on YouTube Music`}];return s!==null&&y.unshift({class:"track-share-entry",content:s}),y}function N(y){Mt.log(`singleChoiceListClick(): ${y} - title: "${e}" - bodyText: "${i}" - filterBodyText: ${n} - url: ${a} - urlType: ${r} - sourceUid: ${h} - verb: ${l}`);let w=encodeURIComponent(n?i.replace(t," "):i);switch(y){case"copyToClipboardId":nt(a,r);break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(`Ultrafunk ${r}: ${i}`)}&body=${encodeURI(a)}%0d%0a`;break;case"searchOnGoogleId":window.open(`https://www.google.com/search?q=${w}`,"_blank");break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${w}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${w}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${w}`,"_blank");break;case"youTubeMusicId":h!==null?window.open(`https://music.youtube.com/watch?v=${h}`,"_blank"):window.open(`https://music.youtube.com/search?q=${w}`,"_blank");break}}},K=ge();function nt(t,e="Content"){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{v(`${e} copied to clipboard`,3)},i=>{Ut(i,t,e)}):ye(t)?v(`${e} copied to clipboard`,3):Ut(`document.execCommand('copy') for "${t}" failed!`,t,e)}function ye(t){let e=document.createElement("textarea");document.body.appendChild(e),e.textContent=t,e.select();let i=document.execCommand("copy");return document.body.removeChild(e),i}function Ut(t,e,i){Mt.error(`copyTextToClipboard() error: ${t}`);let n=`
    <style>
      .modal-dialog-body p.modal-clipboard-content {
        padding: 10px 15px;
        border-radius: var(--dialog-border-radius);
        background-color: var(--list-row-odd-color);
      }
    </style>
    <p class="modal-clipboard-error">Failed to write ${i} to the clipboard, please copy the text below:</p>
    <p class="modal-clipboard-content">${e}</p>`;$("Copy to Clipboard error!",n)}var ct=L("site-interaction"),C=document.documentElement.classList,Rt={metaUiElements:null,listUiElements:null},j={},z={};function Ft(){ct.log("init()"),Rt.metaUiElements=new st("div.track-meta",!0),Rt.listUiElements=new rt("#tracklist"),j=new at("footer-site-theme-toggle"),z=new lt("footer-gallery-layout-toggle"),window.addEventListener("load",()=>{k(".widget ul.uf_channel","click",D),k(".widget ul.uf_artist","click",D),k(".widget.widget_archive ul","click",D)})}function Ht(){j.setCurrent(),z.setCurrent()}var st=class extends O{elementClicked(){if(this.clicked("div.track-share-control"))return Ot(this.closest("single-track, gallery-track"));if(this.clicked("div.track-details-control"))return Dt(this.closest("single-track, gallery-track"));if(this.clicked("span.track-artists-links"))return D(this.event);if(this.clicked("span.track-channels-links"))return D(this.event)}},rt=class extends O{elementClicked(){if(this.clicked("div.share-play-button"))return Ot(this.closest("div.track-entry"));if(this.clicked("div.details-button"))return Dt(this.closest("div.track-entry"))}};function D(t){t.target.matches("a")&&(t?.preventDefault(),T(E(t.target.href)))}function Ot(t){let e=g(t,"data-track-artist"),i=g(t,"data-track-title"),n=K.show({bodyText:`${e} - ${i}`,filterBodyText:!0,bodyHtml:it(t,e,i),url:g(t,"data-track-url"),urlType:"Track link",sourceUid:g(t,"data-track-source-uid")});qt(n,`${e} - ${i}`)}function Dt(t){let e=g(t,"data-track-artist"),i=g(t,"data-track-title"),n=parseInt(t.getAttribute("data-track-duration")),s=t.querySelector(".track-artists-links").querySelectorAll("a"),a=t.querySelector(".track-channels-links").querySelectorAll("a"),r=[];r.push({class:"track-details-entry",content:it(t,e,i)}),r.push({class:"header-entry",content:"Artists"}),s.forEach(l=>{r.push({clickId:`entry-${r.length}`,class:`icon-text ${l.classList[0]??""}`,title:"Go to Artist",content:l.innerText,link:l.href,icon:"link"})}),r.push({class:"header-entry",content:"Channels"}),a.forEach(l=>{r.push({clickId:`entry-${r.length}`,title:"Go to Channel",content:l.innerText,link:l.href,icon:"link"})});let h=$(`Track Details<span class="light-text lowercase-text">${n>0?Tt(n):"duration N/A"}</span>`,r,"track-details",l=>{T(r.find(d=>d.clickId===l).link)});qt(h,`${e} - ${i}`)}function qt(t,e){document.getElementById(t).querySelector(".modal-track .modal-track-thumbnail").title="Click / tap to Copy Artist & Title",document.getElementById(t)?.querySelector("img")?.addEventListener("click",()=>nt(e,"Artist &amp Title"))}function Nt(t,e,i){let n=Object.values(t).find(s=>s.id===e);return n!==void 0?n:i}function Yt(t,e){let i=Object.values(t).findIndex(s=>s.id===e.id),n=Object.keys(t);return i+1<n.length?t[n[i+1]]:t[n[0]]}var at=class extends et{constructor(e){super(e,!1),this.themes={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},black:{id:"black",text:"black",class:"site-theme-black"},auto:{id:"auto",text:"auto"}},this.setCurrent(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>this.matchMediaPrefColorScheme())}setCurrent(){this.currentTheme=Nt(this.themes,p.site.theme,this.themes.auto),this.update()}matchMediaPrefColorScheme(){this.currentTheme.id===this.themes.auto.id&&this.update()}toggle(){this.currentTheme=Yt(this.themes,this.currentTheme),p.site.theme=this.currentTheme.id}update(){let e=this.currentTheme;this.currentTheme.id===this.themes.auto.id&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?this.themes.dark:this.themes.light),X(o.UF_SITE_THEME,e.id),C.contains(e.class)===!1&&(ct.log(`SiteThemeToggle.update() - newSiteTheme: ${e.id}`),C.remove(this.themes.light.class,this.themes.dark.class,this.themes.black.class),C.add(e.class)),this.value=this.currentTheme.text}},lt=class extends et{constructor(e){super(e,!1),this.minWidth=`(max-width: ${Ct("--gallery-layout-min-width")})`,this.layouts={oneColumn:{id:"1-column",text:"1 column",class:"gallery-1-col"},twoColumn:{id:"2-column",text:"2 column",class:"gallery-2-col"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"gallery-3-col"}},this.setCurrent(),window.matchMedia(this.minWidth).addEventListener("change",i=>this.matchMediaMinWidth(i))}setCurrent(){this.currentLayout=Nt(this.layouts,p.gallery.layout,this.layouts.threeColumn),this.update()}matchMediaMinWidth(e){C.contains("gallery-layout")&&(e.matches?(C.remove(this.currentLayout.class),C.add(this.layouts.oneColumn.class)):(C.remove(this.layouts.oneColumn.class),C.add(this.currentLayout.class)))}toggle(){this.currentLayout=Yt(this.layouts,this.currentLayout),p.gallery.layout=this.currentLayout.id}update(e){this.value=this.currentLayout.text,X(o.UF_GALLERY_LAYOUT,this.currentLayout.id),!window.matchMedia(this.minWidth).matches&&(C.contains("gallery-layout")&&C.contains(this.currentLayout.class)===!1&&(ct.log(`GalleryLayoutToggle.update() - newGalleryLayout: ${this.currentLayout.id}`),C.remove(this.layouts.oneColumn.class,this.layouts.twoColumn.class,this.layouts.threeColumn.class),C.add(this.currentLayout.class)),e?.type==="click"&&this.element.scrollIntoView())}};function Bt(t,e,i){let n=`<b>${t}</b>`;return i.forEach((s,a)=>{let r=wt(s.meta);n+=`
    <div class="track">
      <div class="thumbnail ${r.class}"
        data-term-url="${s.link}"
        data-term-slug="${e}"
        data-track-num="${a+1}"
        data-track-type="${s.meta.track_source_type}"
        data-track-id="track-${s.id}"
        data-track-source-uid="${r.uid}" title="Play Track"
        >
        <img src="${r.src}">
      </div>
      <div class="artist-title text-nowrap-ellipsis">
        <a href="${s.link}" title="Go to track"><span><b>${s.meta.track_artist}</b></span><br><span>${s.meta.track_title}</span></a>
      </div>
    </div>`}),n}function Gt(t,e){let i=`<b>${t}</b><br>`;return e.forEach(n=>i+=`<a href="${E(n.link)}">${n.name}</a>, `),i.slice(0,i.length-2)}function Vt(t,e,i){let n=`<b>${t}</b><br>`;return e.forEach(s=>{let a=E(`${Y.siteUrl}/artist/${s.artist_slug}/?channel=${i}`);n+=`<a href="${a}">${s.artist_name}</a> (${s.track_count})<br>`}),n}var m={termCache:{}};function ut(t,e,i){let n=g(t,"data-term-type"),s=parseInt(e.getAttribute("data-term-id")),a=g(e,"data-term-slug"),r=n==="channels";ke(n,s,r?10:50,async h=>{let l=r?"Latest Tracks":"All Tracks",d=i.querySelector(".body-left");if(h!==null?(d.innerHTML=Bt(l,a,h),e.setAttribute("data-is-fetched",1)):v("Failed to fetch track data!",30,"retry",()=>ut(t,e,i)),!r&&h!==null)Se(h,s,50,(f,I)=>{l=f==="artists"?"Related Artists":"In Channels",d=f==="artists"?i.querySelector(".artists"):i.querySelector(".channels"),I!==null?d.innerHTML=Gt(l,I):d.innerHTML=`<b>${l}</b><br>None found`});else if(h!==null){if(!("topArtists"in m.termCache[s])){let f=await V({endpoint:"top-artists",query:`channel_id=${s}`,path:"/wp-json/ultrafunk/v1/"});f.status.code===G.OK&&(m.termCache[s].topArtists=f.data)}i.querySelector(".top-artists").innerHTML=Vt("Top Artists (tracks)",m.termCache[s].topArtists,a)}})}async function ke(t,e,i,n){if(!(e in m.termCache)){let s=await V({endpoint:"tracks",query:`${t}=${e}&per_page=${i}&_fields=id,link,artists,channels,meta`});s.status.code===G.OK&&(m.termCache[e]={tracks:s.data})}n(m.termCache[e]!==void 0?m.termCache[e].tracks:null)}function Se(t,e,i,n){if("channels"in m.termCache[e]&&"artists"in m.termCache[e])n("channels",m.termCache[e].channels),n("artists",m.termCache[e].artists);else{let s=[],a=[];t.forEach(r=>{s.push.apply(s,r.channels),a.push.apply(a,r.artists)}),a=a.filter(r=>r!==e),Kt("channels",e,[...new Set(s)],i,n),Kt("artists",e,[...new Set(a)],i,n)}}async function Kt(t,e,i,n,s){if(i.length>0){let a=await V({endpoint:t,query:`include=${i}&per_page=${n}&_fields=link,name`});a.status.code===G.OK&&(m.termCache[e][t]=a.data)}else m.termCache[e][t]=null;s(t,m.termCache[e][t]!==void 0?m.termCache[e][t]:null)}function jt(){m.termCache=JSON.parse(sessionStorage.getItem(o.UF_TERMLIST_CACHE)),m.termCache===null&&(m.termCache={})}function zt(){sessionStorage.setItem(o.UF_TERMLIST_CACHE,JSON.stringify(m.termCache))}function Jt(){sessionStorage.removeItem(o.UF_TERMLIST_CACHE)}function Wt(){return Object.keys(m.termCache).length>0}var Xt=L("termlist"),c={listContainer:null,uiElements:null,navTitleFoundItems:null,termlistFilterInput:null,termlistEntries:null,transitionTimeoutId:0},Ee=new Event("allowKeyboardShortcuts"),Ce=new Event("denyKeyboardShortcuts");function Qt(){document.getElementById("termlist-container")!==null&&(Xt.log("initTermlist()"),c.listContainer=document.getElementById("termlist-container"),c.uiElements=new dt("#termlist-container"),we(),Te())}function Zt(){if(Wt()){let t={pageUrl:window.location.href,scrollPos:Math.round(window.pageYOffset),openTermIds:[]};document.querySelectorAll(".termlist-entry").forEach(e=>{e.getAttribute("data-is-expanded")==="1"&&t.openTermIds.push(e.id)}),sessionStorage.setItem(o.UF_TERMLIST_STATE,JSON.stringify(t)),zt()}}function Te(){if(jt(),performance.getEntriesByType("navigation")[0].type!=="reload"){let t=JSON.parse(sessionStorage.getItem(o.UF_TERMLIST_STATE));t!==null&&t.pageUrl===window.location.href?(history.scrollRestoration="manual",t.openTermIds.forEach(e=>{document.getElementById(e).querySelector("div.termlist-header").click()}),window.scroll({top:t.scrollPos,left:0,behavior:"auto"})):history.scrollRestoration="auto"}sessionStorage.removeItem(o.UF_TERMLIST_STATE),Jt()}function we(){c.listContainer.getAttribute("data-term-type")==="artists"&&(c.navTitleFoundItems=document.querySelectorAll("div.navbar-title span.found-items"),c.termlistFilterInput=document.getElementById("termlist-filter-input"),c.termlistEntries=c.listContainer.querySelectorAll(".termlist-entry"),c.termlistFilterInput.addEventListener("keyup",t=>Le(t)),c.termlistFilterInput.addEventListener("focus",()=>document.dispatchEvent(Ce)),c.termlistFilterInput.addEventListener("blur",()=>document.dispatchEvent(Ee)),termsListArray.forEach(t=>t.name=t.name.toLowerCase()),document.querySelector("div.artist-letter.current").scrollIntoView(!1),c.termlistFilterInput.focus())}function Le(t){if(It(t.key))return;let e=performance.now(),i=c.termlistFilterInput.value.toLowerCase(),n=c.termlistEntries.length;if(c.listContainer.classList.add("notransitions"),i.length>=3){let r=termsListArray.filter(l=>l.name.includes(i)),h=1;n=r.length>0?r.length:0,c.termlistEntries.forEach(l=>{r.some(d=>d.id===l.id)===!1?l.className="termlist-entry hidden":l.className=`termlist-entry ${h++%2?"odd":"even"}`})}else c.termlistEntries.forEach(r=>r.className="termlist-entry");let s=i.length>=3?`"${i}" - `:"";c.navTitleFoundItems.forEach(r=>r.textContent=` ( ${s}${n} found )`),clearTimeout(c.transitionTimeoutId),c.transitionTimeoutId=setTimeout(()=>c.listContainer.classList.remove("notransitions"),250);let a=performance.now();Xt.log(`filterTermsList(): ${Math.round((a-e)*100)/100} ms.`)}var dt=class extends O{elementClicked(){if(this.clicked("div.play-button"))return J(this.event,E(this.querySelector("a").href));if(this.clicked("div.shuffle-button"))return Ie(this.event,E(this.querySelector("a").href));if(this.clicked("div.share-find-button"))return $e(this.element);if(this.clicked("div.termlist-header"))return _e(this.event);if(this.clicked("div.thumbnail"))return Ae(this.event,this.element);if(this.clicked("a"))return xe(this.event,this.element)}};function J(t,e,i=null){t?.preventDefault(),Zt(),sessionStorage.setItem(o.UF_AUTOPLAY,JSON.stringify({autoplay:t.shiftKey===!1,trackId:i,position:0})),T(e)}function Ie(t,e){P(o.UF_RESHUFFLE,"true"),J(t,e)}function $e(t){let e=g(t,"data-term-name"),i=c.listContainer.getAttribute("data-term-type")==="channels"?"Channel link":"Artist link";K.show({title:`Share / Find ${g(t,"data-term-path")}`,bodyText:e,bodyHtml:`<b>${e}</b>`,url:E(t.getAttribute("data-term-url")),urlType:i,verb:"Find",icon:"search"})}function Ae(t,e){let i=c.listContainer.getAttribute("data-term-type")==="channels"?"channel":"artist",n=g(e,"data-term-slug"),s=parseInt(e.getAttribute("data-track-type"));if(p.playback.preferredPlayer===ft.GALLERY||s===vt.SOUNDCLOUD)J(t,e.getAttribute("data-term-url"),null);else{let a=parseInt(e.getAttribute("data-track-num")),r="";a>U.listPerPage&&(r=`page/${Math.ceil(a/U.listPerPage)}/`),J(t,`${Y.siteUrl}/list/${i}/${n}/${r}`,g(e,"data-track-id"))}}function xe(t,e){Zt(),e.closest("div.permalink")!==null&&(t?.preventDefault(),T(E(e.href)))}function _e(t){let e=t.target.closest("div.termlist-entry"),i=e.querySelector("div.expand-toggle span"),n=e.querySelector("div.termlist-body"),s=e.getAttribute("data-is-expanded")==="1",a=e.getAttribute("data-is-fetched")==="1";e.setAttribute("data-is-expanded",s?"":"1"),i.textContent=s?"expand_more":"expand_less",n.style.display=s?"":"flex",!s&&!a&&ut(c.listContainer,e,n)}var te=L("settings-ui"),u={settings:null,container:null},A={containerId:"settings-container",saveResetId:"settings-save-reset",updatedEvent:new Event("settingsUpdated")},b=[{name:"Playback",id:"playback",schema:_.playback},{name:"List Player",id:"list",schema:_.list},{name:"Gallery Player",id:"gallery",schema:_.gallery},{name:"Mobile",id:"mobile",schema:_.mobile},{name:"Site",id:"site",schema:_.site}],Re=`<h3>An error occurred while reading Playback and Site settings</h3>
  <p>This can be caused by several issues, but most likely it happened because of corrupt or malformed JSON data in the browsers Local Storage.</p>
  <p>Clearing all settings stored locally in the browser will probably fix the problem, click on the button below to do that.
  <b>Note:</b> All Playback and Site settings will be reset to default values.</p>
  <div class="settings-clear"><b>Clear All Settings</b></div>
  <p>If that does not work, another possible fix is to clear all cached data stored in the browser, the following links contain more information about how to do that for
  <a href="https://support.google.com/accounts/answer/32050">Chrome</a> and
  <a href="https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox">Firefox</a>.</p>`;function re(){if(document.getElementById("settings-container")!==null)if(te.log("initSettingsUi"),u.container=document.getElementById(A.containerId),u.container!==null){if(document.URL.includes("?clear=true")){ee();return}ae(!1),u.settings!==null?(b.forEach(t=>Fe(u.settings[t.id],t.schema)),Oe(),u.container.style.opacity=1,u.container.addEventListener("click",t=>ne(t)),u.container.addEventListener("contextmenu",t=>ne(t)),k(`#${A.saveResetId} .settings-save`,"click",Ne),k(`#${A.saveResetId} .settings-reset`,"click",Ye)):ee()}else te.error(`Unable to getElementById() for '#${A.containerId}'`)}function ee(){document.getElementById(A.saveResetId).style.display="none",u.container.insertAdjacentHTML("afterbegin",Re),u.container.style.minHeight="100%",u.container.style.opacity=1,k(`#${A.containerId} .settings-clear`,"click",()=>{localStorage.removeItem(o.UF_SETTINGS),localStorage.removeItem(o.UF_SITE_THEME),localStorage.removeItem(o.UF_GALLERY_LAYOUT),H(o.UF_GALLERY_PER_PAGE),H(o.UF_LIST_PER_PAGE),H(o.UF_PREFERRED_PLAYER),H(o.UF_SHUFFLE_UID),bt(!0),ae(!0),u.settings!==null?v("All settings have been cleared",5,"Reload",()=>window.location.href="/settings/",()=>window.location.href="/settings/"):v("Sorry, unable to clear all settings",5)})}function ae(t=!1){u.settings=gt(o.UF_SETTINGS,t?pt:null,t)}function le(){yt(o.UF_SETTINGS,u.settings),P(o.UF_GALLERY_PER_PAGE,u.settings.gallery.tracksPerPage,B*5),P(o.UF_LIST_PER_PAGE,u.settings.list.tracksPerPage,B*5),P(o.UF_PREFERRED_PLAYER,u.settings.playback.preferredPlayer,B*5),document.dispatchEvent(A.updatedEvent)}function Fe(t,e){Object.entries(t).forEach(([i,n])=>{i in e&&(e[i].current=q(e[i],n),e[i].current===-1&&(e[i].current=q(e[i],e[i].default)))})}function He(t,e){Object.keys(t).forEach(i=>{i in e&&(t[i]=e[i].default,e[i].current=q(e[i],e[i].default))})}function q(t,e){return t.values.findIndex(i=>i===e)}function Oe(){let t=`
<h3>${b[0].name}</h3>
<table id="${b[0].id}-settings" class="settings">
<tbody>`;Object.entries(b[0].schema).forEach(e=>t+=ie(b[0].id,e)),b.slice(1).forEach(e=>{t+=`
</tbody>
</table>
<h3>${e.name}</h3>
<table id="${e.id}-settings" class="settings">
<tbody>`,Object.entries(e.schema).forEach(i=>t+=ie(e.id,i))}),u.container.insertAdjacentHTML("afterbegin",t+`
</tbody>
</table>
`)}function ie(t,e){let i=e[1].valueStrings[q(e[1],e[1].default)];return`
<tr id="${t}:${e[0]}" class="settings-entry" title="Default: ${i}">
      <td class="changed-indicator"></td>
      <td class="spacer"></td>
      <td class="description">${e[1].description}</td>
      <td class="${oe(e[1])}">${e[1].valueStrings[e[1].current]}</td>
    </tr>`}function oe(t){switch(t.type){case 1:return"value-string type-integer";case 3:return"value-string type-string";case 2:return`value-string type-boolean current-value-${t.values[t.current]===!0?"true":"false"}`}}function De(t,e,i,n){n.current=n.current+1<n.values.length?n.current+1:n.current=0,u.settings[e][i]=n.values[n.current],u.settings[e][i]!==p[e][i]?t.classList.add("value-changed"):t.classList.remove("value-changed"),ce(t.querySelector(".value-string"),n)}function ce(t,e){t.classList=oe(e),t.textContent=e.valueStrings[e.current]}function qe(t,e,i){Object.keys(t).forEach(n=>{n in e&&ce(document.getElementById(`${i}:${n}`).querySelector(".value-string"),e[n])})}function ne(t){let e=t.target.closest("tr");if(e!==null){let i=e.id.split(":")[0],n=e.id.split(":")[1],s=b.findIndex(a=>a.id===i);t.type==="contextmenu"?(t.pointerType==="touch"||t.mozInputSource===5)&&(t.preventDefault(),se(b[s].name,b[s].schema[n])):t.shiftKey===!0?se(b[s].name,b[s].schema[n]):De(e,b[s].id,n,b[s].schema[n])}}function se(t,e){let i="";e.valueStrings.forEach(n=>i+=`${n}, `),$(`${t} setting details`,`<p><b>Description</b><br>${e.description}</p>
     <p><b>Values</b><br>${i.slice(0,i.length-2)}</p>
     <p><b>Current Value</b><br>${e.valueStrings[e.current]}</p>
     <p><b>Default Value</b><br>${e.valueStrings[q(e,e.default)]}</p>`)}function ue(){document.querySelectorAll("#settings-container table").forEach(t=>{t.querySelectorAll("tr").forEach(e=>e.classList.remove("value-changed"))})}function Ne(){le(),ue(),v("All settings saved",3)}function Ye(){b.forEach(t=>{He(u.settings[t.id],t.schema),qe(u.settings[t.id],t.schema,t.id)}),ue(),v("All settings reset",4,"Undo",()=>location.reload(),()=>le())}var Be=()=>{let t=null,e=null,i=null,n=null,s=!1,a=0;return window.addEventListener("load",()=>{k("#menu-primary-sections .menu-item-reshuffle a","click",xt),k("#menu-primary-sections .menu-item-pref-player","click",()=>_t.toggle()),document.getElementById("menu-primary-channels")?.addEventListener("click",f)}),{isVisible(){return s},init:r,toggle:h,hide:d};function r(){t=document.getElementById("site-header"),e=document.querySelector("#site-navigation .nav-menu-outer"),i=document.querySelector("#site-navigation .nav-menu-inner"),n=document.getElementById("nav-menu-overlay"),Et("div.nav-menu-toggle","click",h),n.addEventListener("click",d),window.addEventListener("resize",()=>I())}function h(){a=t.offsetHeight,s?d():l()}function l(){t.classList.contains("scrolling-down")===!1&&(s=!0,t.classList.remove("hide-nav-menu"),e.style.display="flex",n.style.backgroundColor=`rgba(0, 0, 0, ${Math.round(10*(p.site.modalOverlayOpacity/100))/10})`,n.classList.add("show"),Z(Q.SITE_MAX_WIDTH_MOBILE)&&N("hidden","close","100vh"),I())}function d(){s=!1,t.classList.add("hide-nav-menu"),e.style.display="",n.className="",N()}function f(y){let w=y.target.closest("li.menu-item.menu-item-object-uf_channel");w!==null&&(Pt()||R())&&(y?.preventDefault(),T(E(w.querySelector("a").href)))}function I(){if(s&&Z(Q.SITE_MAX_WIDTH_MOBILE)){let y=M("margin-top",i)+M("margin-bottom",i);i.style=`overflow-y: auto; max-height: ${window.innerHeight-(a+y)}px`}}function N(y="",w="menu",fe=""){document.documentElement.style.overflowY=y,t.querySelectorAll(".nav-menu-toggle span")?.forEach(pe=>pe.textContent=w),t.style.height=fe,i.style=""}},x=Be();var me=L("index"),he={keyboardShortcuts:null},S={siteHeader:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{me.log("DOMContentLoaded"),Ge(),Qt(),re(),je(),ze(),ht()});function Ge(){me.log("initIndex()"),he.keyboardShortcuts=Lt(p.site.keyboardShortcuts),S.siteHeader=document.getElementById("site-header"),S.siteContent=document.getElementById("site-content"),S.siteContentSearch=document.querySelector("#site-content form input.search-field"),Ft(),F.init(),x.init(),mt.addEventListener(),Je.addEventListener(),document.addEventListener("fullscreenElement",t=>S.fullscreenTarget=t.fullscreenTarget),document.addEventListener("keydown",Ve)}window.addEventListener("load",()=>{if(window.localStorage&&p.internal.showSiteInfoOnLoad&&document.body.classList.contains("home")&&($t()||At())){let t='Ultrafunk is an interactive playlist with carefully chosen and continually updated tracks rooted in Funk and related genres. <a class="snackbar-message-link" href="/about/">More Details</a>';setTimeout(()=>{St()===!1&&(v(t,7.5,null,null,()=>{p.internal.showSiteInfoOnLoad=!1},"rgb(100, 20, 20)"),k(".snackbar-message-link","click",()=>{p.internal.showSiteInfoOnLoad=!1}))},2e3)}});document.addEventListener("settingsUpdated",()=>{kt(),Ht()});function Ve(t){if(t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"Escape":x.isVisible()&&(t.preventDefault(),x.hide());return}if(he.keyboardShortcuts.allow()&&t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"L":W()&&de()&&(z.toggle(t),mt.trigger());break;case"n":case"N":W()&&(t.preventDefault(),x.toggle());break;case"s":case"S":W()&&Ke()&&(t.preventDefault(),F.toggle());break;case"T":W()&&de()&&j.toggle(t);break;case"ArrowLeft":t.shiftKey&&R()&&(t.preventDefault(),T(U.prevPage));break;case"ArrowRight":t.shiftKey&&R()&&(t.preventDefault(),T(U.nextPage));break}}function W(){return F.isVisible()===!1&&S.siteContentSearch!==document.activeElement}function de(){return document.body.classList.contains("page-settings")===!1}function Ke(){return S.fullscreenTarget===null}function je(){S.siteContentSearch!==null&&(S.siteContentSearch.focus(),S.siteContentSearch.setSelectionRange(9999,9999))}function ze(){if(document.querySelector(".navbar-title .go-back-to")!==null){let t="";if(document.referrer.length===0)t="Previous Page";else{let e=new URL(decodeURIComponent(document.referrer));if(e.search.length!==0)t="Search Results";else if(e.pathname.length>1){let i=e.pathname.slice(-1)==="/"?1:0,n=e.pathname.slice(1,e.pathname.length-i).replace(/-/gi," ").split("/");n.forEach((s,a)=>{t+=a+1<n.length?s+" / ":s})}}document.querySelectorAll("#site-navigation .navbar-title").forEach(e=>{e.querySelector(".go-back-title").textContent=t.length>0?t:"Ultrafunk (home)",e.querySelector(".go-back-to").style.opacity=1})}}var mt=(()=>{let t=0;return{getSiteHeaderYOffset(){return t},addEventListener:e,trigger:i};function e(){i(),window.addEventListener("resize",i)}function i(){let n=0;R()?n=M("--site-header-height-no-playback"):n=M("--site-header-height"),t=Math.round(n>150?n/2:n/3)}})(),Je=(()=>{let t=0,e=0,i=0,n=!1,s=44;return{addEventListener:a};function a(){r(),window.addEventListener("scroll",r)}function r(){let f=window.pageYOffset;f===0?h():f>t?(i+=f-t,i>s&&f>mt.getSiteHeaderYOffset()&&(e=0,l())):(e+=t-f,e>s&&(i=0,d())),t=f}function h(){S.siteHeader.classList.remove("scrolling-down","scrolling-up"),S.siteHeader.classList.add("hide-nav-menu"),F.hide(),x.hide()}function l(){n===!1&&(n=!0,tt(S.siteHeader,"scrolling-up","scrolling-down"),F.hide(),x.hide())}function d(){n===!0&&(n=!1,tt(S.siteHeader,"scrolling-down","scrolling-up"))}})();
//# sourceMappingURL=index.js.map
