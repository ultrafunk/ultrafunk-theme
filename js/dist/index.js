import{Aa as ct,Ba as f,Ca as k,Da as C,Ea as ut,aa as W,b as T,ba as U,ca as st,d as nt,f as d,fa as I,g as V,h as it,i as A,ia as at,j as z,k as v,l as p,n as rt,o as G,p as P,sa as ot,ta as j,ua as R,va as L,wa as lt,xa as H,ya as J,za as M}from"./chunk-MJSJOIS5.js";var dt=T("share-modal"),q=(()=>{let t=/\s{1,}[\u002D\u00B7\u2013]\s{1,}/i,e,n,i,r,s,a,o;return{show:l};function l(m){return{title:e="Share / Play Track",bodyText:n=null,filterBodyText:i=!1,bodyHtml:r=null,url:s=null,sourceUid:a=null,verb:o="Play"}=m,U("share",e,h(),y)}function h(){let m=[{clickId:"copyToClipboardId",icon:"content_copy",content:"<b>Copy Link</b> to Clipboard"},{clickId:"shareOnEmailId",icon:"share",content:"<b>Share</b> on Email"},{clickId:"amazonMusicId",icon:"link",content:`<b>${o}</b> on Amazon Music`},{clickId:"appleMusicId",icon:"link",content:`<b>${o}</b> on Apple Music`},{clickId:"spotifyId",icon:"link",content:`<b>${o}</b> on Spotify`},{clickId:"tidalId",icon:"link",content:`<b>${o}</b> on Tidal`},{clickId:"youTubeMusicId",icon:"link",content:`<b>${o}</b> on YouTube Music`}];return r!==null&&m.unshift({class:"track-share-entry",content:r}),m}function y(m){dt.log(`singleChoiceListClick(): ${m} - title: "${e}" - bodyText: "${n}" - filterBodyText: ${i} - url: ${s} - sourceUid: ${a} - verb: ${o}`);let S=encodeURIComponent(i?n.replace(t," "):n);switch(m){case"copyToClipboardId":X(s,"Track link copied to clipboard","Unable to copy Track link to clipboard");break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURI(s)}%0d%0a`;break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${S}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${S}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${S}`,"_blank");break;case"tidalId":window.open(`https://google.com/search?q=${S}%20site:tidal.com`,"_blank");break;case"youTubeMusicId":a!==null?window.open(`https://music.youtube.com/watch?v=${a}`,"_blank"):window.open(`https://music.youtube.com/search?q=${S}`,"_blank");break}}})();function X(t,e="Text copied to clipboard",n="Unable to copy text to clipboard"){navigator.clipboard.writeText(t).then(()=>{P(e,3)},i=>{dt.error(`copyTextToClipboard() failed because ${i}`),P(n,5)})}var et=T("site-interaction"),E=document.documentElement.classList,O={},F={};function ht(){et.log("init()"),O=new Z("footer-site-theme-toggle"),F=new tt("footer-gallery-layout-toggle"),L(".entry-meta-controls .track-share-control","click",t=>ft(t.target)),document.getElementById("tracklist")?.addEventListener("click",Ut),window.addEventListener("load",()=>{document.querySelector(".widget ul.uf_channel")?.addEventListener("click",Q),document.querySelector(".widget ul.uf_artist")?.addEventListener("click",Q),document.querySelector(".widget.widget_archive ul")?.addEventListener("click",Q)})}function mt(){O.setCurrent(),F.setCurrent()}function Ut(t){let e=t.target.closest("div.share-play-button");if(e!==null)return ft(e.closest("div.track-entry"));let n=t.target.closest("div.details-button");if(n!==null)return Rt(n.closest("div.track-entry"))}function Q(t){t.target.matches("a")&&(t?.preventDefault(),k(C(t.target.href)))}function ft(t){let e=f(t,"data-track-artist"),n=f(t,"data-track-title"),i=q.show({bodyText:`${e} - ${n}`,filterBodyText:!0,bodyHtml:W(t,e,n),url:f(t,"data-track-url"),sourceUid:f(t,"data-track-source-uid")});gt(i,`${e} - ${n}`)}function Rt(t){let e=f(t,"data-track-artist"),n=f(t,"data-track-title"),i=parseInt(t.getAttribute("data-track-duration")),r=t.querySelector(".track-artists-links").querySelectorAll("a"),s=t.querySelector(".track-channels-links").querySelectorAll("a"),a=[];a.push({class:"track-details-entry",content:W(t,e,n)}),a.push({class:"header-entry",content:"Artists"}),r.forEach(l=>{a.push({clickId:`entry-${a.length}`,class:`icon-text ${l.classList[0]}`,title:"Go to Artist",content:l.innerText,link:l.href,icon:"link"})}),a.push({class:"header-entry",content:"Channels"}),s.forEach(l=>{a.push({clickId:`entry-${a.length}`,title:"Go to Channel",content:l.innerText,link:l.href,icon:"link"})});let o=U("track-details",`Track Details<span class="light-text lowercase-text">${i>0?ct(i):"N / A"}</span>`,a,l=>{k(a.find(h=>h.clickId===l).link)});gt(o,`${e} - ${n}`)}function gt(t,e){document.getElementById(t).querySelector(".modal-track").title="Click thumbnail to Copy Artist & Title",document.getElementById(t)?.querySelector("img")?.addEventListener("click",()=>{X(e,"Artist &amp Title copied to clipboard","Unable to copy Artist &amp Title to clipboard")})}function pt(t,e,n){let i=Object.values(t).find(r=>r.id===e);return i!==void 0?i:n}function yt(t,e){let n=Object.values(t).findIndex(r=>r.id===e.id),i=Object.keys(t);return n+1<i.length?t[i[n+1]]:t[i[0]]}var Z=class extends G{constructor(e){super(e,!1),this.themes={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}},this.setCurrent(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>this.matchMediaPrefColorScheme())}setCurrent(){this.currentTheme=pt(this.themes,p.site.theme,this.themes.auto),this.update()}matchMediaPrefColorScheme(){this.currentTheme.id===this.themes.auto.id&&this.update()}toggle(){this.currentTheme=yt(this.themes,this.currentTheme),p.site.theme=this.currentTheme.id}update(){let e=this.currentTheme;this.currentTheme.id===this.themes.auto.id&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?this.themes.dark:this.themes.light),z(d.UF_SITE_THEME,e.id),E.contains(e.class)===!1&&(et.log(`SiteThemeToggle.update() - newSiteTheme: ${e.id}`),E.remove(this.themes.light.class,this.themes.dark.class),E.add(e.class)),this.value=this.currentTheme.text}},tt=class extends G{constructor(e){super(e,!1),this.minWidth=`(max-width: ${lt("--site-gallery-layout-min-width")})`,this.layouts={oneColumn:{id:"1-column",text:"1 column",class:"gallery-layout-1-column"},twoColumn:{id:"2-column",text:"2 column",class:"gallery-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"gallery-layout-3-column"}},this.setCurrent(),window.matchMedia(this.minWidth).addEventListener("change",n=>this.matchMediaMinWidth(n))}setCurrent(){this.currentLayout=pt(this.layouts,p.gallery.layout,this.layouts.threeColumn),this.update()}matchMediaMinWidth(e){E.contains("user-layout")&&(e.matches?E.remove(this.currentLayout.class):E.add(this.currentLayout.class))}toggle(){this.currentLayout=yt(this.layouts,this.currentLayout),p.gallery.layout=this.currentLayout.id}update(e){z(d.UF_GALLERY_LAYOUT,this.currentLayout.id),E.contains("user-layout")&&E.contains(this.currentLayout.class)===!1&&(et.log(`GalleryLayoutToggle.update() - newGalleryLayout: ${this.currentLayout.id}`),E.remove(this.layouts.oneColumn.class,this.layouts.twoColumn.class,this.layouts.threeColumn.class),window.matchMedia(this.minWidth).matches===!1&&E.add(this.currentLayout.class)),this.value=this.currentLayout.text,e?.type==="click"&&this.element.scrollIntoView()}};function bt(t,e,n,i){let r=`<b>${t}</b>`;n.forEach((s,a)=>{let o=ut(s.meta);r+=`
    <div class="track">
      <div class="thumbnail ${o.class}"
        data-term-url="${s.link}"
        data-term-slug="${e}"
        data-track-num="${a+1}"
        data-track-type="${s.meta.track_source_type}"
        data-track-id="track-${s.id}"
        data-track-source-uid="${o.uid}" title="Play Track"
        >
        <img src="${o.src}">
      </div>
      <div class="artist-title text-nowrap-ellipsis">
        <a href="${s.link}" title="Go to track"><span><b>${s.meta.track_artist}</b></span><br><span>${s.meta.track_title}</span></a>
      </div>
    </div>`}),i.innerHTML=r}function kt(t,e,n){let i=`<b>${t}</b><br>`;e.forEach(r=>i+=`<a href="${C(r.link)}">${r.name}</a>, `),n.innerHTML=i.slice(0,i.length-2)}var $=T("termlist-rest"),g={termCache:{}};function Tt(t,e,n){let i=f(t,"data-term-type"),r=parseInt(e.getAttribute("data-term-id")),s=f(e,"data-term-slug"),a=i==="channels";Bt(i,r,a?10:50,o=>{let l=a?"Latest Tracks":"All Tracks",h=n.querySelector(".body-left");o!==null?(bt(l,s,o,h),e.classList.add("data-fetched")):P("Unable to fetch track data, please try again...",10),!a&&o!==null&&qt(o,r,50,(y,m)=>{l=y==="artists"?"Related Artists":"In Channels",h=y==="artists"?n.querySelector(".artists"):n.querySelector(".channels"),m!==null?kt(l,m,h):h.innerHTML=`<b>${l}</b><br>None found`})})}function Bt(t,e,n,i){e in g.termCache?i(g.termCache[e].tracks):($.log(`fetchTracks() - termType: ${t} - termId: ${e} - maxItems: ${n}`),fetch(`/wp-json/wp/v2/tracks?${t}=${e}&per_page=${n}&_fields=id,link,artists,channels,meta`).then(r=>r.ok?r.json():($.error(r),null)).then(r=>{g.termCache[e]={tracks:r},i(r)}).catch(r=>{$.warn(r),i(null)}))}function qt(t,e,n,i){if("channels"in g.termCache[e]&&"artists"in g.termCache[e])i("channels",g.termCache[e].channels),i("artists",g.termCache[e].artists);else{let r=[],s=[];t.forEach(a=>{r.push.apply(r,a.channels),s.push.apply(s,a.artists)}),s=s.filter(a=>a!==e),Ct("channels",e,[...new Set(r)],n,i),Ct("artists",e,[...new Set(s)],n,i)}}function Ct(t,e,n,i,r){n.length>0?($.log(`fetchMeta() - termType: ${t} - termIds: ${n.length>0?n:"Empty"} - maxItems: ${i}`),fetch(`/wp-json/wp/v2/${t}?include=${n}&per_page=${i}&_fields=link,name`).then(s=>s.ok?s.json():($.error(s),null)).then(s=>{g.termCache[e][t]=s,r(t,s)}).catch(s=>{$.warn(s),r(null)})):(g.termCache[e][t]=null,r(t,null))}function Et(){g.termCache=JSON.parse(sessionStorage.getItem(d.UF_TERMLIST_CACHE)),g.termCache===null&&(g.termCache={})}function St(){sessionStorage.setItem(d.UF_TERMLIST_CACHE,JSON.stringify(g.termCache))}function wt(){sessionStorage.removeItem(d.UF_TERMLIST_CACHE)}function Lt(){return Object.keys(g.termCache).length>0}var Ot=T("termlist-controls"),N={listContainer:null};function vt(){Ot.log("init()"),N.listContainer=document.getElementById("termlist-container"),N.listContainer.addEventListener("click",t=>{let e=t.target.closest("div.play-button");if(e!==null)return K(t,C(e.querySelector("a").href));let n=t.target.closest("div.shuffle-button");if(n!==null)return Nt(t,C(n.querySelector("a").href));let i=t.target.closest("div.share-find-button");if(i!==null)return Kt(i);if(t.target.closest("div.termlist-header")!==null)return zt(t);let s=t.target.closest("div.thumbnail");if(s!==null)return Yt(t,s);let a=t.target.closest("a");if(a!==null)return Vt(t,a)}),Ft()}function It(){if(Lt()){let t={pageUrl:window.location.href,scrollPos:Math.round(window.pageYOffset),openTermIds:[]};document.querySelectorAll(".termlist-entry").forEach(e=>{e.classList.contains("open")&&t.openTermIds.push(e.id)}),sessionStorage.setItem(d.UF_TERMLIST_STATE,JSON.stringify(t)),St()}}function Ft(){if(Et(),performance.getEntriesByType("navigation")[0].type!=="reload"){let t=JSON.parse(sessionStorage.getItem(d.UF_TERMLIST_STATE));t!==null&&t.pageUrl===window.location.href?(history.scrollRestoration="manual",t.openTermIds.forEach(e=>{document.getElementById(e).querySelector("div.termlist-header").click()}),window.scroll({top:t.scrollPos,left:0,behavior:"auto"})):history.scrollRestoration="auto"}sessionStorage.removeItem(d.UF_TERMLIST_STATE),wt()}function K(t,e,n=null){t?.preventDefault(),It(),sessionStorage.setItem(d.UF_AUTOPLAY,JSON.stringify({autoplay:t.shiftKey===!1,trackId:n,position:0})),k(e)}function Nt(t,e){A(d.UF_RESHUFFLE,"true"),K(t,e)}function Kt(t){let e=f(t,"data-term-name");q.show({title:`Share / Find ${f(t,"data-term-path")}`,bodyText:e,bodyHtml:`<b>${e}</b>`,url:C(t.getAttribute("data-term-url")),verb:"Find"})}function Yt(t,e){let n=N.listContainer.getAttribute("data-term-type")==="channels"?"channel":"artist",i=f(e,"data-term-slug"),r=parseInt(e.getAttribute("data-track-type")),s=e.getAttribute("data-track-source-uid");if(p.playback.preferredPlayer===nt.GALLERY||r===st.SOUNDCLOUD)K(t,e.getAttribute("data-term-url"),null);else{let a=parseInt(e.getAttribute("data-track-num")),o="";a>v.listPerPage&&(o=`page/${Math.ceil(a/v.listPerPage)}/`),K(t,`${ot}/list/${n}/${i}/${o}`,s)}}function Vt(t,e){It(),e.closest("div.permalink")!==null&&(t?.preventDefault(),k(C(e.href)))}function zt(t){let e=t.target.closest("div.termlist-entry"),n=e.querySelector("div.expand-toggle span"),i=e.querySelector("div.termlist-body"),r=i.style.display.length!==0,s=e.classList.contains("data-fetched");M(e,r?"open":"closed",r?"closed":"open"),n.textContent=r?"expand_more":"expand_less",i.style.display=r?"":"flex",!r&&!s&&Tt(N.listContainer,e,i)}var w=(()=>{let t=new ResizeObserver(l),e=null,n=null,i=null,r=!1;return window.addEventListener("load",()=>{R("#menu-primary-menu .menu-item-reshuffle a","click",at),document.getElementById("menu-primary-menu")?.addEventListener("click",a)}),{isVisible(){return r},scrolledTop(){n.style.display=""},init:s,toggle:o};function s(){e=document.getElementById("site-header"),n=document.querySelector("#site-navigation .nav-menu-outer"),i=document.getElementById("nav-menu-modal-overlay"),L(".nav-menu-toggle","click",o),i.addEventListener("click",o),i.addEventListener("transitionend",h),t.observe(n.querySelector(".menu-primary-menu-container"))}function a(y){let m=y.target.closest("li.menu-item.menu-item-object-uf_channel");m!==null&&(document.body.matches(".single.track")||I())&&(y?.preventDefault(),k(C(m.querySelector("a").href)))}function o(){e.classList.contains("sticky-nav-up")?r?n.style.display="none":n.style.display="flex":e.classList.contains("sticky-nav-down")===!1&&e.classList.toggle("hide-nav-menu")}function l(y){r=y[0].contentRect.height!==0,r?(i.className="",i.classList.add("show"),setTimeout(()=>i.classList.add("fadein"),50)):i.classList.add("fadeout")}function h(){r===!1&&(i.className="",n.style.display="")}})();var _=(()=>{let t=new Event("allowKeyboardShortcuts"),e=new Event("denyKeyboardShortcuts"),n=null,i=null,r=null,s=null,a=!1;return{isVisible(){return a},init:o,toggle:l,hide:h};function o(){n=document.getElementById("site-header"),i=document.getElementById("search-container"),r=i.querySelector(".search-field"),s=n.querySelector("div.site-branding-container"),L(".nav-search-toggle","click",l),L(".nav-search-toggle","mousedown",u=>u.preventDefault()),r.addEventListener("blur",h),r.addEventListener("keydown",u=>{u.key==="Escape"&&(u.stopPropagation(),h())})}function l(){y()?m():h()}function h(){a&&S(!1,t,"","search")}function y(){return i.style.display.length===0?!(n.offsetHeight===0||J(j.SITE_MAX_WIDTH_MOBILE)&&n.querySelector(".navbar-container-mobile-top").offsetHeight===0&&n.querySelector(".navbar-container-mobile-up").offsetHeight===0):!1}function m(){At(),S(!0,e,"flex","clear"),r.focus(),r.setSelectionRange(9999,9999)}function S(u,b,Pt,Mt){a=u,document.dispatchEvent(b),i.style.display=Pt,document.querySelectorAll("div.nav-search-toggle span").forEach(_t=>_t.textContent=Mt),a?document.getElementById("playback-controls").classList.add("hide"):document.getElementById("playback-controls").classList.remove("hide")}function At(){let u={};if(J(j.SITE_MAX_WIDTH_MOBILE))s.offsetHeight!==0?u.top=s.offsetTop:u.top=n.querySelector(".navbar-container-mobile-up").offsetTop,u=new DOMRect(63,u.top+3,document.body.clientWidth-60,30);else if(s.offsetHeight!==0){let b=s.getBoundingClientRect();u=new DOMRect(b.left,b.top+7,b.right,b.height-15)}else{let b=n.querySelector(".navbar-container").getBoundingClientRect();u=new DOMRect(b.left+88,b.top,b.right-90,b.height-1)}i.style.left=`${u.left}px`,i.style.top=`${u.top}px`,i.style.width=`${u.width-u.left}px`,i.style.height=`${u.height}px`}})();var xt=T("index"),c={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{xt.log("DOMContentLoaded"),Wt(),c.introBanner!==null&&Xt(),document.getElementById("termlist-container")!==null&&vt(),c.siteContentSearch!==null&&(c.siteContentSearch.focus(),c.siteContentSearch.setSelectionRange(9999,9999)),Qt()});function Wt(){xt.log("initIndex()"),c.siteHeader=document.getElementById("site-header"),c.introBanner=document.getElementById("intro-banner"),c.siteContent=document.getElementById("site-content"),c.siteContentSearch=document.querySelector("#site-content form input.search-field"),ht(),_.init(),w.init(),x.addEventListener(),Zt.addEventListener(),document.addEventListener("fullscreenElement",t=>c.fullscreenTarget=t.fullscreenTarget),document.addEventListener("keydown",jt)}document.addEventListener("settingsUpdated",()=>{rt(),mt(),A(d.UF_GALLERY_PER_PAGE,p.gallery.tracksPerPage,V*5),A(d.UF_PREFERRED_PLAYER,p.playback.preferredPlayer,V*5)});function jt(t){if(t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"Escape":w.isVisible()&&(t.preventDefault(),w.toggle());return}if(p.site.keyboardShortcuts&&t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"c":case"C":Y()&&(t.preventDefault(),w.toggle());break;case"L":Y()&&$t()&&(F.toggle(t),x.trigger());break;case"s":case"S":Y()&&Jt()&&(t.preventDefault(),_.toggle());break;case"T":Y()&&$t()&&O.toggle(t);break;case"ArrowLeft":t.shiftKey&&I()&&(t.preventDefault(),k(v.prevPage));break;case"ArrowRight":t.shiftKey&&I()&&(t.preventDefault(),k(v.nextPage));break}}function Y(){return _.isVisible()===!1&&c.siteContentSearch!==document.activeElement}function $t(){return document.body.classList.contains("page-settings")===!1}function Jt(){return c.fullscreenTarget===null}function Xt(){it("localStorage")&&bannerProperty&&p.banners[bannerProperty]&&(c.introBanner.style.display="block",x.trigger(),R("#intro-banner .intro-banner-close-button","click",()=>{c.introBanner.style.display="",c.siteContent.style.marginTop="",p.banners[bannerProperty]=!1}))}function Qt(){if(document.querySelector(".navbar-title .go-back-to")!==null){let t="";if(document.referrer.length===0)t="Previous Page";else{let e=new URL(decodeURIComponent(document.referrer));if(e.search.length!==0)t="Search Results";else if(e.pathname.length>1){let n=e.pathname.slice(-1)==="/"?1:0,i=e.pathname.slice(1,e.pathname.length-n).replace(/-/gi," ").split("/");i.forEach((r,s)=>{t+=s+1<i.length?r+" / ":r})}}document.querySelectorAll("#site-navigation .navbar-title").forEach(e=>{e.querySelector(".go-back-title").textContent=t.length>0?t:"Ultrafunk (home)",e.querySelector(".go-back-to").style.opacity=1})}}var x=(()=>{let t=0;return{getHeaderHeight(){return t},addEventListener:e,trigger:n};function e(){n(),window.addEventListener("resize",n)}function n(){I()?t=H("--site-header-height-no-playback"):t=H("--site-header-height"),c.introBanner!==null&&c.introBanner.style.display.length!==0&&(c.introBanner.style.marginTop=`${t}px`,c.siteContent.style.marginTop=`${H("--site-content-margin-top",document.body)}px`)}})(),Zt=(()=>{let t=0,e=!1;return{addEventListener:n};function n(){i(),window.addEventListener("scroll",i)}function i(){let o=window.pageYOffset,l=Math.round(x.getHeaderHeight()>150?x.getHeaderHeight()/2:x.getHeaderHeight()/3);o===0||Math.round(o)<=1?r():o>l&&o>t?s():a(),_.hide(),t=o}function r(){c.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),c.siteHeader.classList.add("hide-nav-menu"),w.scrolledTop()}function s(){e===!1&&(e=!0,M(c.siteHeader,"sticky-nav-up","sticky-nav-down"))}function a(){e===!0&&(e=!1,M(c.siteHeader,"sticky-nav-down","sticky-nav-up")),w.isVisible()&&w.toggle()}})();
//# sourceMappingURL=index.js.map
