import{$ as It,$a as Ut,B as St,C as v,D as vt,H as Ct,M as B,N as Z,Na as M,O as k,Oa as At,P as Et,Pa as xt,Q as Tt,Qa as _t,R as U,S as tt,T as et,U as wt,V as b,W as T,Wa as Pt,X as C,Y as Lt,Z as G,_ as K,aa as $t,ba as it,ca as H,da as nt,ea as A,eb as R,i as L,l as ft,m as gt,n as $,o as pt,q as o,r as Y,s as _,t as O,u as Q,v as bt,w as yt,x as kt,y as P,z as p}from"./chunk-JTRM3WBY.js";var Rt=L("share-modal"),be=()=>{let t=/\s{1,}[\u002D\u00B7\u2013]\s{1,}/i,e,i,n,s,a,r,u,l,h;return{show:f};function f(g){return{title:e="Share / Play Track",bodyText:i=null,filterBodyText:n=!1,bodyHtml:s=null,url:a=null,urlType:r="Link",sourceUid:u=null,verb:l="Play",icon:h="link"}=g,A(e,I(),"share",N)}function I(){let g=[{clickId:"copyToClipboardId",icon:"content_copy",content:"<b>Copy Link</b> to Clipboard"},{clickId:"shareOnEmailId",icon:"share",content:"<b>Share</b> on Email"},{clickId:"searchOnGoogleId",icon:"search",content:"<b>Search</b> on Google"},{clickId:"amazonMusicId",icon:h,content:`<b>${l}</b> on Amazon Music`},{clickId:"appleMusicId",icon:h,content:`<b>${l}</b> on Apple Music`},{clickId:"spotifyId",icon:h,content:`<b>${l}</b> on Spotify`},{clickId:"youTubeMusicId",icon:h,content:`<b>${l}</b> on YouTube Music`}];return s!==null&&g.unshift({class:"track-share-entry",content:s}),g}function N(g){Rt.log(`singleChoiceListClick(): ${g} - title: "${e}" - bodyText: "${i}" - filterBodyText: ${n} - url: ${a} - urlType: ${r} - sourceUid: ${u} - verb: ${l}`);let w=encodeURIComponent(n?i.replace(t," "):i);switch(g){case"copyToClipboardId":st(a,r);break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(`Ultrafunk ${r}: ${i}`)}&body=${encodeURI(a)}%0d%0a`;break;case"searchOnGoogleId":window.open(`https://www.google.com/search?q=${w}`,"_blank");break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${w}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${w}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${w}`,"_blank");break;case"youTubeMusicId":u!==null?window.open(`https://music.youtube.com/watch?v=${u}`,"_blank"):window.open(`https://music.youtube.com/search?q=${w}`,"_blank");break}}},z=be();function st(t,e="Content"){navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{v(`${e} copied to clipboard`,3)},i=>{Mt(i,t,e)}):ye(t)?v(`${e} copied to clipboard`,3):Mt(`document.execCommand('copy') for "${t}" failed!`,t,e)}function ye(t){let e=document.createElement("textarea");document.body.appendChild(e),e.textContent=t,e.select();let i=document.execCommand("copy");return document.body.removeChild(e),i}function Mt(t,e,i){Rt.error(`copyTextToClipboard() error: ${t}`);let n=`
    <style>
      .modal-dialog-body p.modal-clipboard-content {
        padding: 10px 15px;
        border-radius: var(--dialog-border-radius);
        background-color: var(--list-row-odd-color);
      }
    </style>
    <p class="modal-clipboard-error">Failed to write ${i} to the clipboard, please copy the text below:</p>
    <p class="modal-clipboard-content">${e}</p>`;A("Copy to Clipboard error!",n)}var ut=L("site-interaction"),E=document.documentElement.classList,Ft={metaUiElements:null,listUiElements:null},j={},J={};function Ot(){ut.log("init()"),Ft.metaUiElements=new rt("div.track-meta",!0),Ft.listUiElements=new at("#tracklist"),j=new lt("footer-site-theme-toggle"),J=new ot("footer-gallery-layout-toggle"),window.addEventListener("load",()=>{k(".widget ul.uf_channel","click",q),k(".widget ul.uf_artist","click",q),k(".widget.widget_archive ul","click",q)})}function Ht(){j.setCurrent(),J.setCurrent()}var rt=class extends H{elementClicked(){if(this.clicked("div.track-share-control"))return qt(this.closest("single-track, gallery-track"));if(this.clicked("div.track-details-control"))return Dt(this.closest("single-track, gallery-track"));if(this.clicked("span.track-artists-links"))return q(this.event);if(this.clicked("span.track-channels-links"))return q(this.event)}},at=class extends H{elementClicked(){if(this.clicked("div.share-play-button"))return qt(this.closest("div.track-entry"));if(this.clicked("div.details-button"))return Dt(this.closest("div.track-entry"))}};function q(t){t.target.matches("a")&&(t?.preventDefault(),T(C(t.target.href)))}function qt(t){let e=b(t,"data-track-artist"),i=b(t,"data-track-title"),n=z.show({bodyText:`${e} - ${i}`,filterBodyText:!0,bodyHtml:nt(t,e,i),url:b(t,"data-track-url"),urlType:"Track link",sourceUid:b(t,"data-track-source-uid")});Nt(n,`${e} - ${i}`)}function Dt(t){let e=b(t,"data-track-artist"),i=b(t,"data-track-title"),n=parseInt(t.getAttribute("data-track-duration")),s=t.querySelector(".track-artists-links").querySelectorAll("a"),a=t.querySelector(".track-channels-links").querySelectorAll("a"),r=[];r.push({class:"track-details-entry",content:nt(t,e,i)}),r.push({class:"header-entry",content:"Artists"}),s.forEach(l=>{r.push({clickId:`entry-${r.length}`,class:`icon-text ${l.classList[0]??""}`,title:"Go to Artist",content:l.innerText,link:l.href,icon:"link"})}),r.push({class:"header-entry",content:"Channels"}),a.forEach(l=>{r.push({clickId:`entry-${r.length}`,title:"Go to Channel",content:l.innerText,link:l.href,icon:"link"})});let u=A(`Track Details<span class="light-text lowercase-text">${n>0?wt(n):"N / A"}</span>`,r,"track-details",l=>{T(r.find(h=>h.clickId===l).link)});Nt(u,`${e} - ${i}`)}function Nt(t,e){document.getElementById(t).querySelector(".modal-track .modal-track-thumbnail").title="Click / tap to Copy Artist & Title",document.getElementById(t)?.querySelector("img")?.addEventListener("click",()=>st(e,"Artist &amp Title"))}function Yt(t,e,i){let n=Object.values(t).find(s=>s.id===e);return n!==void 0?n:i}function Bt(t,e){let i=Object.values(t).findIndex(s=>s.id===e.id),n=Object.keys(t);return i+1<n.length?t[n[i+1]]:t[n[0]]}var lt=class extends it{constructor(e){super(e,!1),this.themes={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},black:{id:"black",text:"black",class:"site-theme-black"},auto:{id:"auto",text:"auto"}},this.setCurrent(),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>this.matchMediaPrefColorScheme())}setCurrent(){this.currentTheme=Yt(this.themes,p.site.theme,this.themes.auto),this.update()}matchMediaPrefColorScheme(){this.currentTheme.id===this.themes.auto.id&&this.update()}toggle(){this.currentTheme=Bt(this.themes,this.currentTheme),p.site.theme=this.currentTheme.id}update(){let e=this.currentTheme;this.currentTheme.id===this.themes.auto.id&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?this.themes.dark:this.themes.light),Q(o.UF_SITE_THEME,e.id),E.contains(e.class)===!1&&(ut.log(`SiteThemeToggle.update() - newSiteTheme: ${e.id}`),E.remove(this.themes.light.class,this.themes.dark.class,this.themes.black.class),E.add(e.class)),this.value=this.currentTheme.text}},ot=class extends it{constructor(e){super(e,!1),this.minWidth=`(max-width: ${Tt("--gallery-layout-min-width")})`,this.layouts={oneColumn:{id:"1-column",text:"1 column",class:"gallery-1-col"},twoColumn:{id:"2-column",text:"2 column",class:"gallery-2-col"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"gallery-3-col"}},this.setCurrent(),window.matchMedia(this.minWidth).addEventListener("change",i=>this.matchMediaMinWidth(i))}setCurrent(){this.currentLayout=Yt(this.layouts,p.gallery.layout,this.layouts.threeColumn),this.update()}matchMediaMinWidth(e){E.contains("gallery-layout")&&(e.matches?(E.remove(this.currentLayout.class),E.add(this.layouts.oneColumn.class)):(E.remove(this.layouts.oneColumn.class),E.add(this.currentLayout.class)))}toggle(){this.currentLayout=Bt(this.layouts,this.currentLayout),p.gallery.layout=this.currentLayout.id}update(e){this.value=this.currentLayout.text,Q(o.UF_GALLERY_LAYOUT,this.currentLayout.id),!window.matchMedia(this.minWidth).matches&&(E.contains("gallery-layout")&&E.contains(this.currentLayout.class)===!1&&(ut.log(`GalleryLayoutToggle.update() - newGalleryLayout: ${this.currentLayout.id}`),E.remove(this.layouts.oneColumn.class,this.layouts.twoColumn.class,this.layouts.threeColumn.class),E.add(this.currentLayout.class)),e?.type==="click"&&this.element.scrollIntoView())}};function Gt(t,e,i){let n=`<b>${t}</b>`;return i.forEach((s,a)=>{let r=Lt(s.meta);n+=`
    <div class="track">
      <div class="thumbnail ${r.class}"
        data-term-url="${s.link}"
        data-term-slug="${e}"
        data-track-num="${a+1}"
        data-track-type="${s.meta.track_source_type}"
        data-track-id="${s.id}"
        data-track-source-uid="${r.uid}" title="Play Track"
        >
        <img src="${r.src}">
      </div>
      <div class="artist-title text-nowrap-ellipsis">
        <a href="${s.link}" title="Go to track"><span><b>${s.meta.track_artist}</b></span><br><span>${s.meta.track_title}</span></a>
      </div>
    </div>`}),n}function Kt(t,e){let i=`<b>${t}</b><br>`;return e.forEach(n=>i+=`<a href="${C(n.link)}">${n.name}</a>, `),i.slice(0,i.length-2)}function Vt(t,e,i){let n=`<b>${t}</b><br>`;return e.forEach(s=>{let a=C(`${B}/artist/${s.artist_slug}/?channel=${i}`);n+=`<a href="${a}">${s.artist_name}</a> (${s.track_count})<br>`}),n}var m={termCache:{}};function dt(t,e,i){let n=b(t,"data-term-type"),s=parseInt(e.getAttribute("data-term-id")),a=b(e,"data-term-slug"),r=n==="channels";Se(n,s,r?10:50,async u=>{let l=r?"Latest Tracks":"All Tracks",h=i.querySelector(".body-left");if(u!==null?(h.innerHTML=Gt(l,a,u),e.setAttribute("data-is-fetched",1)):v("Failed to fetch track data!",30,"retry",()=>dt(t,e,i)),!r&&u!==null)ve(u,s,50,(f,I)=>{l=f==="artists"?"Related Artists":"In Channels",h=f==="artists"?i.querySelector(".artists"):i.querySelector(".channels"),I!==null?h.innerHTML=Kt(l,I):h.innerHTML=`<b>${l}</b><br>None found`});else if(u!==null){if(!("topArtists"in m.termCache[s])){let f=await K({endpoint:"top-artists",query:`channel_id=${s}`,path:"/wp-json/ultrafunk/v1/"});f.status.code===G.OK&&(m.termCache[s].topArtists=f.data)}i.querySelector(".top-artists").innerHTML=Vt("Top Artists (tracks)",m.termCache[s].topArtists,a)}})}async function Se(t,e,i,n){if(!(e in m.termCache)){let s=await K({endpoint:"tracks",query:`${t}=${e}&per_page=${i}&_fields=id,link,artists,channels,meta`});s.status.code===G.OK&&(m.termCache[e]={tracks:s.data})}n(m.termCache[e]!==void 0?m.termCache[e].tracks:null)}function ve(t,e,i,n){if("channels"in m.termCache[e]&&"artists"in m.termCache[e])n("channels",m.termCache[e].channels),n("artists",m.termCache[e].artists);else{let s=[],a=[];t.forEach(r=>{s.push.apply(s,r.channels),a.push.apply(a,r.artists)}),a=a.filter(r=>r!==e),zt("channels",e,[...new Set(s)],i,n),zt("artists",e,[...new Set(a)],i,n)}}async function zt(t,e,i,n,s){if(i.length>0){let a=await K({endpoint:t,query:`include=${i}&per_page=${n}&_fields=link,name`});a.status.code===G.OK&&(m.termCache[e][t]=a.data)}else m.termCache[e][t]=null;s(t,m.termCache[e][t]!==void 0?m.termCache[e][t]:null)}function jt(){m.termCache=JSON.parse(sessionStorage.getItem(o.UF_TERMLIST_CACHE)),m.termCache===null&&(m.termCache={})}function Jt(){sessionStorage.setItem(o.UF_TERMLIST_CACHE,JSON.stringify(m.termCache))}function Wt(){sessionStorage.removeItem(o.UF_TERMLIST_CACHE)}function Xt(){return Object.keys(m.termCache).length>0}var Qt=L("termlist"),c={listContainer:null,uiElements:null,navTitleFoundItems:null,termlistFilterInput:null,termlistEntries:null,transitionTimeoutId:0},Ee=new Event("allowKeyboardShortcuts"),Te=new Event("denyKeyboardShortcuts");function Zt(){document.getElementById("termlist-container")!==null&&(Qt.log("initTermlist()"),c.listContainer=document.getElementById("termlist-container"),c.uiElements=new mt("#termlist-container"),Le(),we())}function te(){if(Xt()){let t={pageUrl:window.location.href,scrollPos:Math.round(window.pageYOffset),openTermIds:[]};document.querySelectorAll(".termlist-entry").forEach(e=>{e.getAttribute("data-is-expanded")==="1"&&t.openTermIds.push(e.id)}),sessionStorage.setItem(o.UF_TERMLIST_STATE,JSON.stringify(t)),Jt()}}function we(){if(jt(),performance.getEntriesByType("navigation")[0].type!=="reload"){let t=JSON.parse(sessionStorage.getItem(o.UF_TERMLIST_STATE));t!==null&&t.pageUrl===window.location.href?(history.scrollRestoration="manual",t.openTermIds.forEach(e=>{document.getElementById(e).querySelector("div.termlist-header").click()}),window.scroll({top:t.scrollPos,left:0,behavior:"auto"})):history.scrollRestoration="auto"}sessionStorage.removeItem(o.UF_TERMLIST_STATE),Wt()}function Le(){c.listContainer.getAttribute("data-term-type")==="artists"&&(c.navTitleFoundItems=document.querySelectorAll("div.navbar-title span.found-items"),c.termlistFilterInput=document.getElementById("termlist-filter-input"),c.termlistEntries=c.listContainer.querySelectorAll(".termlist-entry"),c.termlistFilterInput.addEventListener("keyup",t=>Ie(t)),c.termlistFilterInput.addEventListener("focus",()=>document.dispatchEvent(Te)),c.termlistFilterInput.addEventListener("blur",()=>document.dispatchEvent(Ee)),termsListArray.forEach(t=>t.name=t.name.toLowerCase()),document.querySelector("div.artist-letter.current").scrollIntoView(!1),c.termlistFilterInput.focus())}function Ie(t){if($t(t.key))return;let e=performance.now(),i=c.termlistFilterInput.value.toLowerCase(),n=c.termlistEntries.length;if(c.listContainer.classList.add("notransitions"),i.length>=3){let r=termsListArray.filter(l=>l.name.includes(i)),u=1;n=r.length>0?r.length:0,c.termlistEntries.forEach(l=>{r.some(h=>h.id===l.id)===!1?l.className="termlist-entry hidden":l.className=`termlist-entry ${u++%2?"odd":"even"}`})}else c.termlistEntries.forEach(r=>r.className="termlist-entry");let s=i.length>=3?`"${i}" - `:"";c.navTitleFoundItems.forEach(r=>r.textContent=` ( ${s}${n} found )`),clearTimeout(c.transitionTimeoutId),c.transitionTimeoutId=setTimeout(()=>c.listContainer.classList.remove("notransitions"),250);let a=performance.now();Qt.log(`filterTermsList(): ${Math.round((a-e)*100)/100} ms.`)}var mt=class extends H{elementClicked(){if(this.clicked("div.play-button"))return W(this.event,C(this.querySelector("a").href));if(this.clicked("div.shuffle-button"))return $e(this.event,C(this.querySelector("a").href));if(this.clicked("div.share-find-button"))return Ae(this.element);if(this.clicked("div.termlist-header"))return Pe(this.event);if(this.clicked("div.thumbnail"))return xe(this.event,this.element);if(this.clicked("a"))return _e(this.event,this.element)}};function W(t,e,i=null){t?.preventDefault(),te(),sessionStorage.setItem(o.UF_AUTOPLAY,JSON.stringify({autoplay:t.shiftKey===!1,trackId:i,position:0})),T(e)}function $e(t,e){_(o.UF_RESHUFFLE,"true"),W(t,e)}function Ae(t){let e=b(t,"data-term-name"),i=c.listContainer.getAttribute("data-term-type")==="channels"?"Channel link":"Artist link";z.show({title:`Share / Find ${b(t,"data-term-path")}`,bodyText:e,bodyHtml:`<b>${e}</b>`,url:C(t.getAttribute("data-term-url")),urlType:i,verb:"Find",icon:"search"})}function xe(t,e){let i=c.listContainer.getAttribute("data-term-type")==="channels"?"channel":"artist",n=b(e,"data-term-slug"),s=parseInt(e.getAttribute("data-track-type")),a=e.getAttribute("data-track-source-uid");if(p.playback.preferredPlayer===gt.GALLERY||s===Ct.SOUNDCLOUD)W(t,e.getAttribute("data-term-url"),null);else{let r=parseInt(e.getAttribute("data-track-num")),u="";r>P.listPerPage&&(u=`page/${Math.ceil(r/P.listPerPage)}/`),W(t,`${B}/list/${i}/${n}/${u}`,a)}}function _e(t,e){te(),e.closest("div.permalink")!==null&&(t?.preventDefault(),T(C(e.href)))}function Pe(t){let e=t.target.closest("div.termlist-entry"),i=e.querySelector("div.expand-toggle span"),n=e.querySelector("div.termlist-body"),s=e.getAttribute("data-is-expanded")==="1",a=e.getAttribute("data-is-fetched")==="1";e.setAttribute("data-is-expanded",s?"":"1"),i.textContent=s?"expand_more":"expand_less",n.style.display=s?"":"flex",!s&&!a&&dt(c.listContainer,e,n)}var ee=L("settings-ui"),d={settings:null,container:null},x={containerId:"settings-container",saveResetId:"settings-save-reset",updatedEvent:new Event("settingsUpdated")},y=[{name:"Playback",id:"playback",schema:$.playback},{name:"List Player",id:"list",schema:$.list},{name:"Gallery Player",id:"gallery",schema:$.gallery},{name:"Mobile",id:"mobile",schema:$.mobile},{name:"Site",id:"site",schema:$.site},{name:"Experimental",id:"experimental",schema:$.experimental}],Fe=`<h3>An error occurred while reading Playback and Site settings</h3>
  <p>This can be caused by several issues, but most likely it happened because of corrupt or malformed JSON data in the browsers Local Storage.</p>
  <p>Clearing all settings stored locally in the browser will probably fix the problem, click on the button below to do that.
  <b>Note:</b> All Playback and Site settings will be reset to default values.</p>
  <div class="settings-clear"><b>Clear All Settings</b></div>
  <p>If that does not work, another possible fix is to clear all cached data stored in the browser, the following links contain more information about how to do that for
  <a href="https://support.google.com/accounts/answer/32050">Chrome</a> and
  <a href="https://support.mozilla.org/en-US/kb/clear-cookies-and-site-data-firefox">Firefox</a>.</p>`;function ae(){if(document.getElementById("settings-container")!==null)if(ee.log("initSettingsUi"),d.container=document.getElementById(x.containerId),d.container!==null){if(document.URL.includes("?clear=true")){ie();return}le(!1),d.settings!==null?(y.forEach(t=>Oe(d.settings[t.id],t.schema)),qe(),d.container.style.opacity=1,d.container.addEventListener("click",t=>se(t)),d.container.addEventListener("contextmenu",t=>se(t)),k(`#${x.saveResetId} .settings-save`,"click",Ye),k(`#${x.saveResetId} .settings-reset`,"click",Be)):ie()}else ee.error(`Unable to getElementById() for '#${x.containerId}'`)}function ie(){document.getElementById(x.saveResetId).style.display="none",d.container.insertAdjacentHTML("afterbegin",Fe),d.container.style.minHeight="100%",d.container.style.opacity=1,k(`#${x.containerId} .settings-clear`,"click",()=>{localStorage.removeItem(o.UF_SETTINGS),localStorage.removeItem(o.UF_SITE_THEME),localStorage.removeItem(o.UF_GALLERY_LAYOUT),O(o.UF_GALLERY_PER_PAGE),O(o.UF_LIST_PER_PAGE),O(o.UF_PREFERRED_PLAYER),O(o.UF_SHUFFLE_UID),kt(!0),le(!0),d.settings!==null?v("All settings have been cleared",5,"Reload",()=>window.location.href="/settings/",()=>window.location.href="/settings/"):v("Sorry, unable to clear all settings",5)})}function le(t=!1){d.settings=bt(o.UF_SETTINGS,t?pt:null,t)}function oe(){yt(o.UF_SETTINGS,d.settings),_(o.UF_GALLERY_PER_PAGE,d.settings.gallery.tracksPerPage,Y*5),_(o.UF_LIST_PER_PAGE,d.settings.list.tracksPerPage,Y*5),_(o.UF_PREFERRED_PLAYER,d.settings.playback.preferredPlayer,Y*5),document.dispatchEvent(x.updatedEvent)}function Oe(t,e){Object.entries(t).forEach(([i,n])=>{i in e&&(e[i].current=D(e[i],n),e[i].current===-1&&(e[i].current=D(e[i],e[i].default)))})}function He(t,e){Object.keys(t).forEach(i=>{i in e&&(t[i]=e[i].default,e[i].current=D(e[i],e[i].default))})}function D(t,e){return t.values.findIndex(i=>i===e)}function qe(){let t=`
<h3>${y[0].name}</h3>
<table id="${y[0].id}-settings" class="settings">
<tbody>`;Object.entries(y[0].schema).forEach(e=>t+=ne(y[0].id,e)),y.slice(1).forEach(e=>{t+=`
</tbody>
</table>
<h3>${e.name}</h3>
<table id="${e.id}-settings" class="settings">
<tbody>`,Object.entries(e.schema).forEach(i=>t+=ne(e.id,i))}),d.container.insertAdjacentHTML("afterbegin",t+`
</tbody>
</table>
`)}function ne(t,e){let i=e[1].valueStrings[D(e[1],e[1].default)];return`
<tr id="${t}:${e[0]}" class="settings-entry" title="Default: ${i}">
      <td class="changed-indicator"></td>
      <td class="spacer"></td>
      <td class="description">${e[1].description}</td>
      <td class="${ce(e[1])}">${e[1].valueStrings[e[1].current]}</td>
    </tr>`}function ce(t){switch(t.type){case 1:return"value-string type-integer";case 3:return"value-string type-string";case 2:return`value-string type-boolean current-value-${t.values[t.current]===!0?"true":"false"}`}}function De(t,e,i,n){n.current=n.current+1<n.values.length?n.current+1:n.current=0,d.settings[e][i]=n.values[n.current],d.settings[e][i]!==p[e][i]?t.classList.add("value-changed"):t.classList.remove("value-changed"),ue(t.querySelector(".value-string"),n)}function ue(t,e){t.classList=ce(e),t.textContent=e.valueStrings[e.current]}function Ne(t,e,i){Object.keys(t).forEach(n=>{n in e&&ue(document.getElementById(`${i}:${n}`).querySelector(".value-string"),e[n])})}function se(t){let e=t.target.closest("tr");if(e!==null){let i=e.id.split(":")[0],n=e.id.split(":")[1],s=y.findIndex(a=>a.id===i);t.type==="contextmenu"?(t.pointerType==="touch"||t.mozInputSource===5)&&(t.preventDefault(),re(y[s].name,y[s].schema[n])):t.shiftKey===!0?re(y[s].name,y[s].schema[n]):De(e,y[s].id,n,y[s].schema[n])}}function re(t,e){let i="";e.valueStrings.forEach(n=>i+=`${n}, `),A(`${t} setting details`,`<p><b>Description</b><br>${e.description}</p>
     <p><b>Values</b><br>${i.slice(0,i.length-2)}</p>
     <p><b>Current Value</b><br>${e.valueStrings[e.current]}</p>
     <p><b>Default Value</b><br>${e.valueStrings[D(e,e.default)]}</p>`)}function de(){document.querySelectorAll("#settings-container table").forEach(t=>{t.querySelectorAll("tr").forEach(e=>e.classList.remove("value-changed"))})}function Ye(){oe(),de(),v("All settings saved",3)}function Be(){y.forEach(t=>{He(d.settings[t.id],t.schema),Ne(d.settings[t.id],t.schema,t.id)}),de(),v("All settings reset",4,"Undo",()=>location.reload(),()=>oe())}var Ge=()=>{let t=new ResizeObserver(f),e=null,i=null,n=null,s=null,a=!1,r=0;return window.addEventListener("load",()=>{k("#menu-primary-sections .menu-item-reshuffle a","click",_t),k("#menu-primary-sections .menu-item-pref-player","click",()=>Pt.toggle()),document.getElementById("menu-primary-channels")?.addEventListener("click",h)}),{isVisible(){return a},scrolledTop(){i.style.display=""},init:u,toggle:l};function u(){e=document.getElementById("site-header"),i=document.querySelector("#site-navigation .nav-menu-outer"),n=document.querySelector("#site-navigation .nav-menu-inner"),s=document.getElementById("nav-menu-modal-overlay"),Et("div.nav-menu-toggle","click",l),s.addEventListener("click",l),window.addEventListener("resize",()=>I()),t.observe(i)}function l(){r=e.offsetHeight,e.classList.contains("scrolling-up")?i.style.display=a?"none":"flex":e.classList.contains("scrolling-down")===!1&&e.classList.toggle("hide-nav-menu")}function h(g){let w=g.target.closest("li.menu-item.menu-item-object-uf_channel");w!==null&&(Ut()||M())&&(g?.preventDefault(),T(C(w.querySelector("a").href)))}function f(g){a=g[0].contentRect.height!==0,a?s.className===""&&(s.style.backgroundColor=`rgba(0, 0, 0, ${Math.round(10*(p.site.modalOverlayOpacity/100))/10})`,s.classList.add("show"),tt(Z.SITE_MAX_WIDTH_MOBILE)&&N("hidden","close","100vh"),I()):(s.className="",i.style.display="",N())}function I(){if(a&&tt(Z.SITE_MAX_WIDTH_MOBILE)){let g=U("margin-top",n)+U("margin-bottom",n);n.style=`overflow-y: auto; max-height: ${window.innerHeight-(r+g)}px`}}function N(g="",w="menu",ge=""){document.documentElement.style.overflowY=g,e.querySelectorAll(".nav-menu-toggle span")?.forEach(pe=>pe.textContent=w),e.style.height=ge,n.style=""}},F=Ge();var he=L("index"),fe={keyboardShortcuts:null},S={siteHeader:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{he.log("DOMContentLoaded"),Ke(),Zt(),ae(),je(),Je(),ft()});function Ke(){he.log("initIndex()"),fe.keyboardShortcuts=It(p.site.keyboardShortcuts),S.siteHeader=document.getElementById("site-header"),S.siteContent=document.getElementById("site-content"),S.siteContentSearch=document.querySelector("#site-content form input.search-field"),Ot(),R.init(),F.init(),ht.addEventListener(),We.addEventListener(),document.addEventListener("fullscreenElement",t=>S.fullscreenTarget=t.fullscreenTarget),document.addEventListener("keydown",Ve)}window.addEventListener("load",()=>{if(window.localStorage&&p.internal.showSiteInfoOnLoad&&document.body.classList.contains("home")&&(At()||xt())){let t='Ultrafunk is an interactive playlist with carefully chosen and continually updated tracks rooted in Funk and related genres. <a class="snackbar-message-link" href="/about/">More Details</a>';setTimeout(()=>{vt()===!1&&(v(t,11,null,null,()=>{p.internal.showSiteInfoOnLoad=!1},"rgb(122, 30, 30)"),k(".snackbar-message-link","click",()=>{p.internal.showSiteInfoOnLoad=!1}))},2e3)}});document.addEventListener("settingsUpdated",()=>{St(),Ht()});function Ve(t){if(t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"Escape":F.isVisible()&&(t.preventDefault(),F.toggle());return}if(fe.keyboardShortcuts.allow()&&t.repeat===!1&&t.ctrlKey===!1&&t.altKey===!1)switch(t.key){case"L":X()&&me()&&(J.toggle(t),ht.trigger());break;case"n":case"N":X()&&(t.preventDefault(),F.toggle());break;case"s":case"S":X()&&ze()&&(t.preventDefault(),R.toggle());break;case"T":X()&&me()&&j.toggle(t);break;case"ArrowLeft":t.shiftKey&&M()&&(t.preventDefault(),T(P.prevPage));break;case"ArrowRight":t.shiftKey&&M()&&(t.preventDefault(),T(P.nextPage));break}}function X(){return R.isVisible()===!1&&S.siteContentSearch!==document.activeElement}function me(){return document.body.classList.contains("page-settings")===!1}function ze(){return S.fullscreenTarget===null}function je(){S.siteContentSearch!==null&&(S.siteContentSearch.focus(),S.siteContentSearch.setSelectionRange(9999,9999))}function Je(){if(document.querySelector(".navbar-title .go-back-to")!==null){let t="";if(document.referrer.length===0)t="Previous Page";else{let e=new URL(decodeURIComponent(document.referrer));if(e.search.length!==0)t="Search Results";else if(e.pathname.length>1){let i=e.pathname.slice(-1)==="/"?1:0,n=e.pathname.slice(1,e.pathname.length-i).replace(/-/gi," ").split("/");n.forEach((s,a)=>{t+=a+1<n.length?s+" / ":s})}}document.querySelectorAll("#site-navigation .navbar-title").forEach(e=>{e.querySelector(".go-back-title").textContent=t.length>0?t:"Ultrafunk (home)",e.querySelector(".go-back-to").style.opacity=1})}}var ht=(()=>{let t=0;return{getSiteHeaderYOffset(){return t},addEventListener:e,trigger:i};function e(){i(),window.addEventListener("resize",i)}function i(){let n=0;M()?n=U("--site-header-height-no-playback"):n=U("--site-header-height"),t=Math.round(n>150?n/2:n/3)}})(),We=(()=>{let t=0,e=0,i=0,n=!1,s=44;return{addEventListener:a};function a(){r(),window.addEventListener("scroll",r)}function r(){let f=window.pageYOffset;f===0?u():f>t?(i+=f-t,i>s&&f>ht.getSiteHeaderYOffset()&&(e=0,l())):(e+=t-f,e>s&&(i=0,h())),t=f}function u(){S.siteHeader.classList.remove("scrolling-down","scrolling-up"),S.siteHeader.classList.add("hide-nav-menu"),R.hide(),F.scrolledTop()}function l(){n===!1&&(n=!0,et(S.siteHeader,"scrolling-up","scrolling-down"),R.hide())}function h(){n===!0&&(n=!1,et(S.siteHeader,"scrolling-down","scrolling-up"))}})();
//# sourceMappingURL=index.js.map
