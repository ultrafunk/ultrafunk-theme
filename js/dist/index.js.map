{
  "version": 3,
  "sources": ["../src/site/share-modal.js", "../src/site/interaction.js", "../src/site/termlist-templates.js", "../src/site/termlist-rest.js", "../src/site/termlist.js", "../src/site/nav-menu.js", "../src/site/nav-search.js", "../src/index.js"],
  "sourcesContent": ["//\r\n// Share modal\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from '../shared/debuglogger.js';\r\nimport { showModal }    from '../shared/modal.js';\r\nimport { showSnackbar } from '../shared/snackbar.js';\r\n\r\n\r\nexport {\r\n  shareModal,\r\n  copyTextToClipboard,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug = debugLogger.newInstance('share-modal');\r\n\r\n\r\n// ************************************************************************************************\r\n// Share Modal Dialog module\r\n// ************************************************************************************************\r\n\r\nconst shareModal = (() =>\r\n{\r\n  const filterBodyTextRegEx = /\\s{1,}[\\u002D\\u00B7\\u2013]\\s{1,}/i;\r\n  let title, bodyText, filterBodyText, bodyHtml, url, sourceUid, verb;\r\n\r\n  return {\r\n    show,\r\n  };\r\n  \r\n  function show(args)\r\n  {\r\n    ({\r\n      title          = 'Share / Play Track',\r\n      bodyText       = null,\r\n      filterBodyText = false,\r\n      bodyHtml       = null,\r\n      url            = null,\r\n      sourceUid      = null,\r\n      verb           = 'Play'\r\n    } = args);\r\n\r\n    return showModal('share', title, getSingleChoiceList(), singleChoiceListClick);\r\n  }\r\n\r\n  function getSingleChoiceList()\r\n  {\r\n    const singleChoiceList = [\r\n      { clickId: 'copyToClipboardId', icon: 'content_copy', content: '<b>Copy Link</b> to Clipboard'   },\r\n      { clickId: 'shareOnEmailId',    icon: 'share',        content: '<b>Share</b> on Email'           },\r\n      { clickId: 'amazonMusicId',     icon: 'link',         content: `<b>${verb}</b> on Amazon Music`  },\r\n      { clickId: 'appleMusicId',      icon: 'link',         content: `<b>${verb}</b> on Apple Music`   },\r\n      { clickId: 'spotifyId',         icon: 'link',         content: `<b>${verb}</b> on Spotify`       },\r\n      { clickId: 'tidalId',           icon: 'link',         content: `<b>${verb}</b> on Tidal`         },\r\n      { clickId: 'youTubeMusicId',    icon: 'link',         content: `<b>${verb}</b> on YouTube Music` },\r\n    ];\r\n\r\n    if (bodyHtml !== null)\r\n      singleChoiceList.unshift({ class: 'track-share-entry', content: bodyHtml });\r\n\r\n    return singleChoiceList;\r\n  }\r\n\r\n  function singleChoiceListClick(clickedId)\r\n  {\r\n    debug.log(`singleChoiceListClick(): ${clickedId} - title: \"${title}\" - bodyText: \"${bodyText}\" - filterBodyText: ${filterBodyText} - url: ${url} - sourceUid: ${sourceUid} - verb: ${verb}`);\r\n\r\n    const searchString = filterBodyText\r\n                           ? encodeURIComponent(bodyText.replace(filterBodyTextRegEx, ' '))\r\n                           : encodeURIComponent(bodyText);\r\n\r\n    switch (clickedId)\r\n    {\r\n      case 'copyToClipboardId':\r\n        copyTextToClipboard(url, 'Track link copied to clipboard', 'Unable to copy Track link to clipboard');\r\n        break;\r\n\r\n      case 'shareOnEmailId':\r\n        window.location.href = `mailto:?subject=${encodeURIComponent(bodyText)}&body=${url}%0d%0a`;\r\n        break;\r\n\r\n      case 'amazonMusicId':\r\n        window.open(`https://music.amazon.com/search/${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'appleMusicId':\r\n        window.open(`https://music.apple.com/ca/search?term=${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'spotifyId':\r\n        window.open(`https://open.spotify.com/search/${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'tidalId':\r\n        window.open(`https://google.com/search?q=${searchString}%20site:tidal.com`, \"_blank\");\r\n        break;\r\n\r\n      case 'youTubeMusicId':\r\n        {\r\n          if (sourceUid !== null)\r\n            window.open(`https://music.youtube.com/watch?v=${sourceUid}`, \"_blank\");\r\n          else\r\n            window.open(`https://music.youtube.com/search?q=${searchString}`, \"_blank\");\r\n        }\r\n        break;\r\n    }\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n//\r\n// ************************************************************************************************\r\n\r\nfunction copyTextToClipboard(clipboardText, successMessage = 'Text copied to clipboard', errorMessage = 'Unable to copy text to clipboard')\r\n{\r\n  navigator.clipboard.writeText(clipboardText).then(() =>\r\n  {\r\n    showSnackbar(successMessage, 3);\r\n  },\r\n  (reason) =>\r\n  {\r\n    debug.error(`copyTextToClipboard() failed because ${reason}`);\r\n    showSnackbar(errorMessage, 5);\r\n  });\r\n}\r\n", "//\r\n// Ultrafunk site interaction\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger      from '../shared/debuglogger.js';\r\nimport * as utils            from '../shared/utils.js';\r\nimport ToggleElement         from '../shared/toggle-element.js';\r\nimport { settings }          from '../shared/session-data.js';\r\nimport { showModal }         from '../shared/modal.js';\r\nimport { KEY, setValue }     from '../shared/storage.js';\r\nimport { getModalTrackHtml } from '../shared/modal-templates.js';\r\n\r\nimport {\r\n  shareModal,\r\n  copyTextToClipboard,\r\n} from './share-modal.js';\r\n\r\n\r\nexport {\r\n  init,\r\n  settingsUpdated,\r\n  m as mProps,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug         = debugLogger.newInstance('site-interaction');\r\nconst htmlClassList = document.documentElement.classList;\r\n\r\n// Only const top level variables in modules + m.prop namespace for clarity\r\nconst m = {\r\n  siteTheme:     null,\r\n  galleryLayout: null,\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n//\r\n// ************************************************************************************************\r\n\r\nfunction init()\r\n{\r\n  debug.log('init()');\r\n\r\n  m.siteTheme     = new SiteThemeToggle('footer-site-theme-toggle');\r\n  m.galleryLayout = new GalleryLayoutToggle('footer-gallery-layout-toggle');\r\n\r\n  utils.addListenerAll('.entry-meta-controls .track-share-control', 'click', (event) => sharePlayClick(event.target));\r\n  document.getElementById('tracklist')?.addEventListener( 'click', listPlayerClick);\r\n\r\n  window.addEventListener('load', () =>\r\n  {\r\n    document.querySelector('.widget ul.uf_channel')?.addEventListener('click', widgetLinkClick);\r\n    document.querySelector('.widget ul.uf_artist')?.addEventListener('click', widgetLinkClick);\r\n    document.querySelector('.widget.widget_archive ul')?.addEventListener('click', widgetLinkClick);\r\n  });\r\n}\r\n\r\nfunction settingsUpdated()\r\n{\r\n  m.siteTheme.setCurrent();\r\n  m.galleryLayout.setCurrent();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n//\r\n// ************************************************************************************************\r\n\r\nfunction listPlayerClick(event)\r\n{\r\n  const sharePlayButton = event.target.closest('div.share-play-button');\r\n  if (sharePlayButton !== null ) return sharePlayClick(sharePlayButton.closest('div.track-entry'));\r\n  \r\n  const detailsButton = event.target.closest('div.details-button');\r\n  if (detailsButton !== null) return detailsClick(detailsButton.closest('div.track-entry'));\r\n}\r\n\r\nfunction widgetLinkClick(event)\r\n{\r\n  if (event.target.matches('a'))\r\n  {\r\n    event?.preventDefault();\r\n    utils.navToUrl(utils.getPrefPlayerUrl(event.target.href));\r\n  }\r\n}\r\n\r\nfunction sharePlayClick(element)\r\n{\r\n  const trackArtist = utils.stripAttribute(element, 'data-track-artist');\r\n  const trackTitle  = utils.stripAttribute(element, 'data-track-title');\r\n\r\n  const modalId = shareModal.show({\r\n    bodyText:       `${trackArtist} - ${trackTitle}`,\r\n    filterBodyText: true,\r\n    bodyHtml:       getModalTrackHtml(element, trackArtist, trackTitle),\r\n    url:            utils.stripAttribute(element, 'data-track-url'),\r\n    sourceUid:      utils.stripAttribute(element, 'data-track-source-uid'),\r\n  });\r\n\r\n  trackThumbnailClick(modalId, `${trackArtist} - ${trackTitle}`);\r\n}\r\n\r\nfunction detailsClick(element)\r\n{\r\n  const trackArtist  = utils.stripAttribute(element, 'data-track-artist');\r\n  const trackTitle   = utils.stripAttribute(element, 'data-track-title');\r\n  const artists      = element.querySelector('.track-artists-links').querySelectorAll('a');\r\n  const channels     = element.querySelector('.track-channels-links').querySelectorAll('a');\r\n  const modalEntries = [];\r\n\r\n  modalEntries.push({\r\n    class:   'track-details-entry',\r\n    content: getModalTrackHtml(element, trackArtist, trackTitle),\r\n  });\r\n  \r\n  modalEntries.push({ class: 'header-entry', content: 'Artists' });\r\n  \r\n  artists.forEach(item =>\r\n  {\r\n    modalEntries.push({\r\n      clickId: `entry-${modalEntries.length}`,\r\n      class:   `icon-text ${item.classList[0]}`,\r\n      title:   'Go to Artist',\r\n      content: item.innerText,\r\n      link:    item.href,\r\n      icon:    'link',\r\n    });\r\n  });\r\n  \r\n  modalEntries.push({ class: 'header-entry', content: 'Channels' });\r\n  \r\n  channels.forEach(item =>\r\n  {\r\n    modalEntries.push({\r\n      clickId: `entry-${modalEntries.length}`,\r\n      title:   'Go to Channel',\r\n      content: item.innerText,\r\n      link:    item.href,\r\n      icon:    'link'\r\n    });\r\n  });\r\n\r\n  const modalId = showModal('track-details', 'Track Details', modalEntries, (clickedId) =>\r\n  {\r\n    utils.navToUrl(modalEntries.find(item => (item.clickId === clickedId)).link);\r\n  });\r\n\r\n  trackThumbnailClick(modalId, `${trackArtist} - ${trackTitle}`);\r\n}\r\n\r\nfunction trackThumbnailClick(modalId, artistTitle)\r\n{\r\n  document.getElementById(modalId).querySelector('.modal-track').title = 'Click thumbnail to Copy Artist & Title';\r\n  \r\n  document.getElementById(modalId)?.querySelector('img')?.addEventListener('click', () =>\r\n  {\r\n    copyTextToClipboard(artistTitle, 'Artist &amp Title copied to clipboard', 'Unable to copy Artist &amp Title to clipboard');\r\n  });\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Site theme and layout settings helpers\r\n// ************************************************************************************************\r\n\r\nfunction getCurrentSetting(settingsObject, currentId, defaultSetting)\r\n{\r\n  const setting = Object.values(settingsObject).find(value => (value.id === currentId));\r\n  return ((setting !== undefined) ? setting : defaultSetting);\r\n}\r\n\r\nfunction getNextSetting(settingsObject, currentSetting)\r\n{\r\n  const index = Object.values(settingsObject).findIndex(value => (value.id === currentSetting.id));\r\n  const keys  = Object.keys(settingsObject);\r\n  \r\n  return (((index + 1) < keys.length)\r\n           ? settingsObject[keys[index + 1]]\r\n           : settingsObject[keys[0]]);\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Site theme handling\r\n// ************************************************************************************************\r\n\r\nclass SiteThemeToggle extends ToggleElement\r\n{\r\n  constructor(elementId)\r\n  {\r\n    super(elementId, false);\r\n\r\n    this.themes = {\r\n      light: { id: 'light', text: 'light', class: 'site-theme-light' },\r\n      dark:  { id: 'dark',  text: 'dark',  class: 'site-theme-dark'  },\r\n      auto:  { id: 'auto',  text: 'auto'                             }, // This has no CSS class since auto is always light or dark\r\n    };\r\n\r\n    this.setCurrent();\r\n\r\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', () => this.matchMediaPrefColorScheme());\r\n  }\r\n\r\n  setCurrent()\r\n  {\r\n    this.currentTheme = getCurrentSetting(this.themes, settings.site.theme, this.themes.auto);\r\n    this.update();\r\n  }\r\n\r\n  matchMediaPrefColorScheme()\r\n  {\r\n    if (this.currentTheme.id === this.themes.auto.id)\r\n      this.update();\r\n  }\r\n\r\n  toggle()\r\n  {\r\n    this.currentTheme   = getNextSetting(this.themes, this.currentTheme);\r\n    settings.site.theme = this.currentTheme.id;\r\n  }\r\n\r\n  update()\r\n  {\r\n    let newTheme = this.currentTheme;\r\n  \r\n    if (this.currentTheme.id === this.themes.auto.id)\r\n    {\r\n      newTheme = window.matchMedia('(prefers-color-scheme: dark)').matches\r\n                   ? this.themes.dark\r\n                   : this.themes.light;\r\n    }\r\n  \r\n    setValue(KEY.UF_SITE_THEME, newTheme.id);\r\n  \r\n    // Only update DOM if something has actually changed...\r\n    if (htmlClassList.contains(newTheme.class) === false)\r\n    {\r\n      debug.log(`SiteThemeToggle.update() - newSiteTheme: ${newTheme.id}`);\r\n    \r\n      htmlClassList.remove(this.themes.light.class, this.themes.dark.class);\r\n      htmlClassList.add(newTheme.class);\r\n    }\r\n\r\n    // Always update this because AUTO is not a separate class (only DARK + LIGHT are classes)\r\n    this.value = this.currentTheme.text;\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Gallery layout handling\r\n// ************************************************************************************************\r\n\r\nclass GalleryLayoutToggle extends ToggleElement\r\n{\r\n  constructor(elementId)\r\n  {\r\n    super(elementId, false);\r\n\r\n    this.minWidth = `(max-width: ${utils.getCssPropString('--site-gallery-layout-min-width')})`;\r\n\r\n    this.layouts = {\r\n      oneColumn:   { id: '1-column', text: '1 column',     class: 'gallery-layout-1-column' },\r\n      twoColumn:   { id: '2-column', text: '2 column',     class: 'gallery-layout-2-column' },\r\n      threeColumn: { id: '3-column', text: '3 / 4 column', class: 'gallery-layout-3-column' },\r\n    };\r\n\r\n    this.setCurrent();\r\n\r\n    window.matchMedia(this.minWidth).addEventListener('change', (event) => this.matchMediaMinWidth(event));\r\n  }\r\n\r\n  setCurrent()\r\n  {\r\n    this.currentLayout = getCurrentSetting(this.layouts, settings.gallery.layout, this.layouts.threeColumn);\r\n    this.update();\r\n  }\r\n\r\n  matchMediaMinWidth(event)\r\n  {\r\n    if (htmlClassList.contains('user-layout'))\r\n    {\r\n      if (event.matches)\r\n        htmlClassList.remove(this.currentLayout.class);\r\n      else\r\n        htmlClassList.add(this.currentLayout.class);\r\n    }\r\n  }\r\n\r\n  toggle()\r\n  {\r\n    this.currentLayout      = getNextSetting(this.layouts, this.currentLayout);\r\n    settings.gallery.layout = this.currentLayout.id;\r\n  }\r\n\r\n  update(event)\r\n  {\r\n    setValue(KEY.UF_GALLERY_LAYOUT, this.currentLayout.id);\r\n\r\n    // Only update DOM if needed and when something has actually changed\r\n    if ((htmlClassList.contains('user-layout')) && (htmlClassList.contains(this.currentLayout.class) === false))\r\n    {\r\n      debug.log(`GalleryLayoutToggle.update() - newGalleryLayout: ${this.currentLayout.id}`);\r\n\r\n      htmlClassList.remove(this.layouts.oneColumn.class, this.layouts.twoColumn.class, this.layouts.threeColumn.class);\r\n\r\n      if (window.matchMedia(this.minWidth).matches === false)\r\n        htmlClassList.add(this.currentLayout.class);\r\n    }\r\n\r\n    this.value = this.currentLayout.text;\r\n\r\n    if (event?.type === 'click')\r\n      this.element.scrollIntoView();\r\n  }\r\n}\r\n", "//\r\n// Termlist template functions\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport {\r\n  getPrefPlayerUrl,\r\n  getThumbnailData,\r\n} from \"../shared/utils.js\";\r\n\r\n\r\nexport {\r\n  insertTermlistHtml,\r\n  insertTermLinksHtml,\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Render fetched track and meta-data as HTML\r\n// ************************************************************************************************\r\n\r\nfunction insertTermlistHtml(header, termSlug, termData, destElement)\r\n{\r\n  let html = `<b>${header}</b>`;\r\n\r\n  termData.forEach((track, index) =>\r\n  {\r\n    const thumbnailData = getThumbnailData(track.meta);\r\n\r\n    html += `\r\n    <div class=\"track\">\r\n      <div class=\"thumbnail ${thumbnailData.class}\"\r\n        data-term-url=\"${track.link}\"\r\n        data-term-slug=\"${termSlug}\"\r\n        data-track-num=\"${index + 1}\"\r\n        data-track-type=\"${track.meta.track_source_type}\"\r\n        data-track-id=\"track-${track.id}\"\r\n        data-track-source-uid=\"${thumbnailData.uid}\" title=\"Play Track\"\r\n        >\r\n        <img src=\"${thumbnailData.src}\">\r\n      </div>\r\n      <div class=\"artist-title text-nowrap-ellipsis\">\r\n        <a href=\"${track.link}\" title=\"Go to track\"><span><b>${track.meta.track_artist}</b></span><br><span>${track.meta.track_title}</span></a>\r\n      </div>\r\n    </div>`;\r\n  });\r\n  \r\n  destElement.innerHTML = html;\r\n}\r\n\r\nfunction insertTermLinksHtml(header, termData, destElement)\r\n{\r\n  let html = `<b>${header}</b><br>`;\r\n  termData.forEach(item => (html += `<a href=\"${getPrefPlayerUrl(item.link)}\">${item.name}</a>, `));\r\n  destElement.innerHTML = html.slice(0, (html.length - 2));\r\n}\r\n", "//\r\n// Termlist REST data fetch and caching\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger   from '../shared/debuglogger.js';\r\nimport { KEY }            from '../shared/storage.js';\r\nimport { showSnackbar }   from '../shared/snackbar.js';\r\nimport { stripAttribute } from '../shared/utils.js';\r\n\r\nimport {\r\n  insertTermlistHtml,\r\n  insertTermLinksHtml,\r\n} from './termlist-templates.js';\r\n\r\n\r\nexport {\r\n  loadTermlist,\r\n  readCache,\r\n  writeCache,\r\n  deleteCache,\r\n  hasCache,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug = debugLogger.newInstance('termlist-rest');\r\nconst m     = { termCache: {} };\r\n\r\n\r\n// ************************************************************************************************\r\n// Fetch data via REST API and update DOM with results\r\n// ************************************************************************************************\r\n\r\nfunction loadTermlist(termlistContainer, termlistEntry, termlistBody)\r\n{\r\n  const termType      = stripAttribute(termlistContainer, 'data-term-type');\r\n  const termId        = parseInt(termlistEntry.getAttribute('data-term-id'));\r\n  const termSlug      = stripAttribute(termlistEntry, 'data-term-slug');\r\n  const isAllChannels = (termType === 'channels');\r\n\r\n  fetchTracks(termType, termId, (isAllChannels ? 10 : 50), (termData) => \r\n  {\r\n    let header  = isAllChannels ? 'Latest Tracks' : 'All Tracks';\r\n    let element = termlistBody.querySelector('.body-left');\r\n\r\n    if (termData !== null)\r\n    {\r\n      insertTermlistHtml(header, termSlug, termData, element);\r\n      termlistEntry.classList.add('data-fetched');\r\n    }\r\n    else\r\n    {\r\n      showSnackbar('Unable to fetch track data, please try again...', 10);\r\n    }\r\n\r\n    if (!isAllChannels && (termData !== null))\r\n    {\r\n      fetchTermMeta(termData, termId, 50, (metaType, metadata) =>\r\n      {\r\n        header  = (metaType === 'artists') ? 'Related Artists' : 'In Channels';\r\n        element = (metaType === 'artists')\r\n                    ? termlistBody.querySelector('.artists')\r\n                    : termlistBody.querySelector('.channels');\r\n\r\n        if (metadata !== null)\r\n          insertTermLinksHtml(header, metadata, element);\r\n        else\r\n          element.innerHTML = `<b>${header}</b><br>None found`;\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Fetch tracks for a given termType with termId (taxonomy: channel or artist)\r\n// ************************************************************************************************\r\n\r\nfunction fetchTracks(termType, termId, maxItems, callback)\r\n{ \r\n  if (termId in m.termCache)\r\n  {\r\n    callback(m.termCache[termId].tracks);\r\n  }\r\n  else\r\n  {\r\n    debug.log(`fetchTracks() - termType: ${termType} - termId: ${termId} - maxItems: ${maxItems}`);\r\n\r\n    fetch(`/wp-json/wp/v2/tracks?${termType}=${termId}&per_page=${maxItems}&_fields=id,link,artists,channels,meta`)\r\n    .then(response => \r\n    {\r\n      if (!response.ok)\r\n      {\r\n        debug.error(response);\r\n        return null;\r\n      }\r\n      \r\n      return response.json();\r\n    })\r\n    .then(data =>\r\n    {\r\n      m.termCache[termId] = { tracks: data };\r\n      callback(data);\r\n    })\r\n    .catch(reason =>\r\n    {\r\n      debug.warn(reason);\r\n      callback(null);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Merge then fetch metadata for a given termType with termIds (taxonomy: category or tag)\r\n// ************************************************************************************************\r\n\r\nfunction fetchTermMeta(termData, termId, maxItems, callback)\r\n{\r\n  if (('channels' in m.termCache[termId]) && ('artists' in m.termCache[termId]))\r\n  {\r\n    callback('channels', m.termCache[termId].channels);\r\n    callback('artists',  m.termCache[termId].artists);\r\n  }\r\n  else\r\n  {\r\n    const channels = [];\r\n    let   artists  = [];\r\n  \r\n    termData.forEach(item =>\r\n    {\r\n      channels.push.apply(channels, item.channels);\r\n      artists.push.apply(artists, item.artists);\r\n    });\r\n  \r\n    artists = artists.filter(item => (item !== termId));\r\n  \r\n    fetchMeta('channels', termId, [...new Set(channels)], maxItems, callback);\r\n    fetchMeta('artists',  termId, [...new Set(artists)],  maxItems, callback);\r\n  }\r\n}\r\n\r\nfunction fetchMeta(termType, termId, termIds, maxItems, callback)\r\n{\r\n  /*\r\n  if ((termId in termCache) === false)\r\n    termCache[termId] = {};\r\n  */\r\n\r\n  if (termIds.length > 0)\r\n  {\r\n    debug.log(`fetchMeta() - termType: ${termType} - termIds: ${(termIds.length > 0) ? termIds : 'Empty'} - maxItems: ${maxItems}`);\r\n\r\n    fetch(`/wp-json/wp/v2/${termType}?include=${termIds}&per_page=${maxItems}&_fields=link,name`)\r\n    .then(response => \r\n    {\r\n      if (!response.ok)\r\n      {\r\n        debug.error(response);\r\n        return null;\r\n      }\r\n      \r\n      return response.json();\r\n    })\r\n    .then(data =>\r\n    {\r\n      m.termCache[termId][termType] = data;\r\n      callback(termType, data);\r\n    })\r\n    .catch(reason =>\r\n    {\r\n      debug.warn(reason);\r\n      callback(null);\r\n    });\r\n  }\r\n  else\r\n  {\r\n    m.termCache[termId][termType] = null;\r\n    callback(termType, null);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Term cache functions\r\n// ************************************************************************************************\r\n\r\nfunction readCache()\r\n{\r\n  m.termCache = JSON.parse(sessionStorage.getItem(KEY.UF_TERMLIST_CACHE));\r\n  \r\n  if (m.termCache === null)\r\n    m.termCache = {};\r\n}\r\n\r\nfunction writeCache()\r\n{\r\n  sessionStorage.setItem(KEY.UF_TERMLIST_CACHE, JSON.stringify(m.termCache));\r\n}\r\n\r\nfunction deleteCache()\r\n{\r\n  sessionStorage.removeItem(KEY.UF_TERMLIST_CACHE);\r\n}\r\n\r\nfunction hasCache()\r\n{\r\n  return (Object.keys(m.termCache).length > 0);\r\n}\r\n", "//\r\n// Termlist UI module\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger       from '../shared/debuglogger.js';\r\nimport * as termlistRest      from './termlist-rest.js';\r\nimport * as utils             from '../shared/utils.js';\r\nimport { shareModal }         from './share-modal.js';\r\nimport { TRACK_TYPE }         from '../playback/shared-gallery-list.js';\r\nimport { KEY, setCookie }     from '../shared/storage.js';\r\nimport { PREF_PLAYER }        from '../shared/settings/settings.js';\r\nimport { response, settings } from '../shared/session-data.js';\r\n\r\n\r\nexport { init };\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug = debugLogger.newInstance('termlist-controls');\r\nconst m     = { listContainer: null };\r\n\r\n\r\n// ************************************************************************************************\r\n// Setup module\r\n// ************************************************************************************************\r\n\r\nfunction init()\r\n{\r\n  debug.log('init()');\r\n\r\n  m.listContainer = document.getElementById('termlist-container');\r\n\r\n  m.listContainer.addEventListener('click', (event) =>\r\n  {\r\n    const playButton = event.target.closest('div.play-button');\r\n    if (playButton !== null ) return playClick(event, utils.getPrefPlayerUrl(playButton.querySelector('a').href));\r\n\r\n    const shuffleButton = event.target.closest('div.shuffle-button');\r\n    if (shuffleButton !== null ) return shuffleClick(event, utils.getPrefPlayerUrl(shuffleButton.querySelector('a').href));\r\n\r\n    const shareFindButton = event.target.closest('div.share-find-button');\r\n    if (shareFindButton !== null ) return shareFindClick(shareFindButton);\r\n   \r\n    const termlistHeader = event.target.closest('div.termlist-header');\r\n    if (termlistHeader !== null ) return termlistHeaderClick(event);\r\n\r\n    const playTrackButton = event.target.closest('div.thumbnail');\r\n    if (playTrackButton !== null ) return playTrackClick(event, playTrackButton);\r\n\r\n    const linkElement = event.target.closest('a');\r\n    if (linkElement !== null) return linkClicked(event, linkElement);\r\n  });\r\n\r\n  restoreState();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Save and restore Termlist state\r\n// ************************************************************************************************\r\n\r\nfunction saveState()\r\n{\r\n  if (termlistRest.hasCache())\r\n  {\r\n    const termlistState = {\r\n      pageUrl:     window.location.href,\r\n      scrollPos:   Math.round(window.pageYOffset),\r\n      openTermIds: [],\r\n    };\r\n\r\n    document.querySelectorAll('.termlist-entry').forEach(element =>\r\n    {\r\n      if (element.classList.contains('open'))\r\n        termlistState.openTermIds.push(element.id);\r\n    });\r\n    \r\n    sessionStorage.setItem(KEY.UF_TERMLIST_STATE, JSON.stringify(termlistState));\r\n    termlistRest.writeCache();\r\n  }\r\n}\r\n\r\nfunction restoreState()\r\n{\r\n  termlistRest.readCache();\r\n\r\n  if (performance.getEntriesByType('navigation')[0].type !== 'reload')\r\n  {\r\n    const termlistState = JSON.parse(sessionStorage.getItem(KEY.UF_TERMLIST_STATE));\r\n \r\n    if ((termlistState !== null) && (termlistState.pageUrl === window.location.href))\r\n    {\r\n      history.scrollRestoration = 'manual';\r\n      \r\n      termlistState.openTermIds.forEach(item =>\r\n      {\r\n        document.getElementById(item).querySelector('div.termlist-header').click();\r\n      });\r\n      \r\n      window.scroll({ top: termlistState.scrollPos, left: 0, behavior: 'auto' });\r\n    }\r\n    else\r\n    {\r\n      history.scrollRestoration = 'auto';\r\n    }\r\n  }\r\n\r\n  sessionStorage.removeItem(KEY.UF_TERMLIST_STATE);\r\n  termlistRest.deleteCache();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Click event functions\r\n// ************************************************************************************************\r\n\r\nfunction playClick(event, destUrl, trackId = null)\r\n{\r\n  event?.preventDefault();\r\n  saveState();\r\n\r\n  // ToDo: Create a playbackSetting for this? Or use SHIFT + click to skip autoplay\r\n  sessionStorage.setItem(KEY.UF_AUTOPLAY, JSON.stringify({ autoplay: (event.shiftKey === false), trackId: trackId, position: 0 }));\r\n\r\n  utils.navToUrl(destUrl);\r\n}\r\n\r\nfunction shuffleClick(event, destUrl)\r\n{\r\n  setCookie(KEY.UF_RESHUFFLE, 'true');\r\n  playClick(event, destUrl);\r\n}\r\n\r\nfunction shareFindClick(element)\r\n{\r\n  const termName = utils.stripAttribute(element, 'data-term-name');\r\n\r\n  shareModal.show({\r\n    title:    `Share / Find ${utils.stripAttribute(element, 'data-term-path')}`,\r\n    bodyText: termName,\r\n    bodyHtml: `<b>${termName}</b>`,\r\n    url:      utils.getPrefPlayerUrl(element.getAttribute('data-term-url')),\r\n    verb:     'Find',\r\n  });\r\n}\r\n\r\nfunction playTrackClick(event, element)\r\n{\r\n  const termType       = (m.listContainer.getAttribute('data-term-type') === 'channels') ? 'channel' : 'artist';\r\n  const termSlug       = utils.stripAttribute(element, 'data-term-slug');\r\n  const trackType      = parseInt(element.getAttribute('data-track-type'));\r\n  const trackSourceUid = element.getAttribute('data-track-source-uid');\r\n\r\n  if ((settings.playback.preferredPlayer === PREF_PLAYER.GALLERY) || (trackType === TRACK_TYPE.SOUNDCLOUD))\r\n  {\r\n    playClick(event, element.getAttribute('data-term-url'), null);\r\n  }\r\n  else\r\n  {\r\n    const trackNum = parseInt(element.getAttribute('data-track-num'));\r\n    let pagination = '';\r\n\r\n    if (trackNum > response.listPerPage)\r\n      pagination = `page/${Math.ceil(trackNum / response.listPerPage)}/`;\r\n\r\n    playClick(event, `${utils.SITE_URL}/list/${termType}/${termSlug}/${pagination}`, trackSourceUid);\r\n  }\r\n}\r\n\r\nfunction linkClicked(event, element)\r\n{\r\n  saveState();\r\n\r\n  if (element.closest('div.permalink') !== null)\r\n  {\r\n    event?.preventDefault();\r\n    utils.navToUrl(utils.getPrefPlayerUrl(element.href));\r\n  }\r\n}\r\n\r\nfunction termlistHeaderClick(event)\r\n{\r\n  const termlistEntry = event.target.closest('div.termlist-entry');\r\n  const expandToggle  = termlistEntry.querySelector('div.expand-toggle span');\r\n  const termlistBody  = termlistEntry.querySelector('div.termlist-body');\r\n  const isExpanded    = (termlistBody.style.display.length !== 0);\r\n  const isDataFetched = termlistEntry.classList.contains('data-fetched');\r\n\r\n  utils.replaceClass(termlistEntry, (isExpanded ? 'open' : 'closed'), (isExpanded ? 'closed' : 'open'));\r\n\r\n  expandToggle.textContent   = isExpanded ? 'expand_more' : 'expand_less';\r\n  termlistBody.style.display = isExpanded ? ''            : 'flex';\r\n\r\n  if (!isExpanded && !isDataFetched)\r\n    termlistRest.loadTermlist(m.listContainer, termlistEntry, termlistBody);\r\n}\r\n", "//\r\n// Ultrafunk site nav-menu\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as utils from '../shared/utils.js';\r\n\r\nimport {\r\n  noPlayback,\r\n  shuffleClickNavTo,\r\n} from '../playback/shared-gallery-list.js';\r\n\r\n\r\nexport { navMenu };\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation menu handling\r\n// ************************************************************************************************\r\n\r\nconst navMenu = (() =>\r\n{\r\n  const observer = new ResizeObserver(observerCallback);\r\n  let siteHeader = null, navMenuOuter = null, modalOverlay = null;\r\n  let isVisible = false;\r\n\r\n  window.addEventListener('load', () =>\r\n  {\r\n    utils.addListener('#menu-primary-menu .menu-item-reshuffle a', 'click', shuffleClickNavTo);\r\n    document.getElementById('menu-primary-menu')?.addEventListener('click', menuClickUsePrefPlayer);\r\n  });\r\n\r\n  return {\r\n    isVisible()   { return isVisible;                },\r\n    scrolledTop() { navMenuOuter.style.display = ''; },\r\n    init,\r\n    toggle,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    siteHeader   = document.getElementById('site-header');\r\n    navMenuOuter = document.querySelector('#site-navigation .nav-menu-outer');\r\n    modalOverlay = document.getElementById('nav-menu-modal-overlay');\r\n\r\n    utils.addListenerAll('.nav-menu-toggle', 'click', toggle);\r\n    modalOverlay.addEventListener('click', toggle);\r\n    modalOverlay.addEventListener('transitionend', transitionEnd);\r\n    observer.observe(navMenuOuter.querySelector('.menu-primary-menu-container'));\r\n  }\r\n\r\n  function menuClickUsePrefPlayer(event)\r\n  {\r\n    const menuElement = event.target.closest('li.menu-item.menu-item-object-uf_channel');\r\n\r\n    if (menuElement !== null)\r\n    {\r\n      if (document.body.matches('.single.track') || noPlayback())\r\n      {\r\n        event?.preventDefault();\r\n        utils.navToUrl(utils.getPrefPlayerUrl(menuElement.querySelector('a').href));\r\n      }\r\n    }\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    if (siteHeader.classList.contains('sticky-nav-up'))\r\n    {\r\n      if (isVisible)\r\n        navMenuOuter.style.display = 'none';\r\n      else\r\n        navMenuOuter.style.display = 'flex';\r\n    }\r\n    else\r\n    {\r\n      if (siteHeader.classList.contains('sticky-nav-down') === false)\r\n        siteHeader.classList.toggle('hide-nav-menu');\r\n    }\r\n  }\r\n\r\n  function observerCallback(entries)\r\n  {\r\n    isVisible = (entries[0].contentRect.height !== 0) ? true : false;\r\n\r\n    if (isVisible)\r\n    {\r\n      modalOverlay.className = '';\r\n      modalOverlay.classList.add('show');\r\n      setTimeout(() => modalOverlay.classList.add('fadein'), 50);\r\n    }\r\n    else\r\n    {\r\n      modalOverlay.classList.add('fadeout');\r\n    }\r\n  }\r\n\r\n  function transitionEnd()\r\n  {\r\n    if (isVisible === false)\r\n    {\r\n      modalOverlay.className     = '';\r\n      navMenuOuter.style.display = '';\r\n    }\r\n  }\r\n})();\r\n", "//\r\n// Ultrafunk site nav-search\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as utils from '../shared/utils.js';\r\n\r\n\r\nexport { navSearch };\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation search handling\r\n// ************************************************************************************************\r\n\r\nconst navSearch = (() =>\r\n{\r\n  const allowKeyboardShortcutsEvent = new Event('allowKeyboardShortcuts');\r\n  const denyKeyboardShortcutsEvent  = new Event('denyKeyboardShortcuts');\r\n  let siteHeader = null, searchContainer = null, searchField = null, brandingContainer = null;\r\n  let isVisible = false;\r\n\r\n  return {\r\n    isVisible() { return isVisible; },\r\n    init,\r\n    toggle,\r\n    hide,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    siteHeader        = document.getElementById('site-header');\r\n    searchContainer   = document.getElementById('search-container');\r\n    searchField       = searchContainer.querySelector('.search-field');\r\n    brandingContainer = siteHeader.querySelector('div.site-branding-container');\r\n\r\n    utils.addListenerAll('.nav-search-toggle', 'click', toggle);\r\n    // To prevent extra 'blur' event before 'click' event\r\n    utils.addListenerAll('.nav-search-toggle', 'mousedown', (event) => event.preventDefault());\r\n    // Hide nav search bar on focus loss\r\n    searchField.addEventListener('blur', hide);\r\n    \r\n    // Hide nav search bar on ESC\r\n    searchField.addEventListener('keydown', (event) =>\r\n    {\r\n      if (event.key === 'Escape')\r\n      {\r\n        event.stopPropagation();\r\n        hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    hasVisibleSearchContainer() ? show() : hide();\r\n  }\r\n  \r\n  function hide()\r\n  {\r\n    if (isVisible)\r\n      setProps(false, allowKeyboardShortcutsEvent, '', 'search');\r\n  }\r\n  \r\n  function hasVisibleSearchContainer()\r\n  {\r\n    if (searchContainer.style.display.length === 0)\r\n    {\r\n      // Has no visible site header at all, bail out...\r\n      if (siteHeader.offsetHeight === 0)\r\n        return false;\r\n\r\n      // Is mobile with no visible navbar, bail out...\r\n      if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE))\r\n      {\r\n        if ((siteHeader.querySelector('.navbar-container-mobile-top').offsetHeight === 0) &&\r\n            (siteHeader.querySelector('.navbar-container-mobile-up').offsetHeight  === 0))\r\n        {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function show()\r\n  {\r\n    setPosSize();\r\n    setProps(true, denyKeyboardShortcutsEvent, 'flex', 'clear');\r\n    searchField.focus();\r\n    searchField.setSelectionRange(9999, 9999);    \r\n  }\r\n  \r\n  function setProps(visible, keyboardShortcutsEvent, display, icon)\r\n  {\r\n    isVisible = visible;\r\n    document.dispatchEvent(keyboardShortcutsEvent);\r\n    searchContainer.style.display = display;\r\n    document.querySelectorAll('div.nav-search-toggle span').forEach(element => (element.textContent = icon));\r\n    \r\n    if (isVisible)\r\n      document.getElementById('playback-controls').classList.add('hide');\r\n    else\r\n      document.getElementById('playback-controls').classList.remove('hide');\r\n  }\r\n\r\n  function setPosSize()\r\n  {\r\n    let position = {};\r\n\r\n    if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE))\r\n    {\r\n      if (brandingContainer.offsetHeight !== 0)\r\n        position.top = brandingContainer.offsetTop;\r\n      else\r\n        position.top = siteHeader.querySelector('.navbar-container-mobile-up').offsetTop;\r\n\r\n      position = new DOMRect(63, (position.top + 3), (document.body.clientWidth - 60), 30);\r\n    }\r\n    else\r\n    {\r\n      if (brandingContainer.offsetHeight !== 0)\r\n      {\r\n        const rect = brandingContainer.getBoundingClientRect();\r\n        position   = new DOMRect(rect.left, (rect.top + 7), rect.right, (rect.height - 15));\r\n      }\r\n      else\r\n      {\r\n        const rect = siteHeader.querySelector('.navbar-container').getBoundingClientRect();\r\n        position   = new DOMRect((rect.left + 88), rect.top, (rect.right - 90), (rect.height - 1));\r\n      }\r\n    }\r\n  \r\n    searchContainer.style.left   = `${position.left}px`;\r\n    searchContainer.style.top    = `${position.top}px`;\r\n    searchContainer.style.width  = `${position.width - position.left}px`;\r\n    searchContainer.style.height = `${position.height}px`;\r\n  }\r\n})();\r\n", "//\r\n// Ultrafunk site interaction\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from './shared/debuglogger.js';\r\nimport * as storage     from './shared/storage.js';\r\nimport * as utils       from './shared/utils.js';\r\nimport * as interaction from './site/interaction.js';\r\nimport * as termlist    from './site/termlist.js';\r\nimport { navMenu }      from './site/nav-menu.js';\r\nimport { navSearch }    from './site/nav-search.js';\r\nimport { noPlayback }   from './playback/shared-gallery-list.js';\r\n\r\nimport {\r\n  response,\r\n  settings,\r\n  readSettings,\r\n} from './shared/session-data.js';\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug = debugLogger.newInstance('index');\r\n\r\nconst elements = {\r\n  siteHeader:        null,\r\n  introBanner:       null,\r\n  siteContent:       null,\r\n  siteContentSearch: null,\r\n  fullscreenTarget:  null,  \r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Document ready and document / window event listeners\r\n// ************************************************************************************************\r\n\r\ndocument.addEventListener('DOMContentLoaded', () =>\r\n{ \r\n  debug.log('DOMContentLoaded');\r\n\r\n  initIndex();\r\n  \r\n  if (elements.introBanner !== null)\r\n    showIntroBanner();\r\n  \r\n  if (document.getElementById('termlist-container') !== null)\r\n    termlist.init();\r\n\r\n  if (elements.siteContentSearch !== null)\r\n  {\r\n    elements.siteContentSearch.focus();\r\n    elements.siteContentSearch.setSelectionRange(9999, 9999);\r\n  }\r\n\r\n  setPreviousPageTitle();\r\n});\r\n\r\nfunction initIndex()\r\n{\r\n  debug.log('initIndex()');\r\n\r\n  elements.siteHeader        = document.getElementById('site-header');\r\n  elements.introBanner       = document.getElementById('intro-banner');\r\n  elements.siteContent       = document.getElementById('site-content');\r\n  elements.siteContentSearch = document.querySelector('#site-content form input.search-field');\r\n\r\n  interaction.init();\r\n  navSearch.init();\r\n  navMenu.init();\r\n  \r\n  resize.addEventListener();\r\n  scroll.addEventListener();\r\n\r\n  document.addEventListener('fullscreenElement', (event) => (elements.fullscreenTarget = event.fullscreenTarget));\r\n  document.addEventListener('keydown', documentEventKeyDown);\r\n}\r\n\r\ndocument.addEventListener('settingsUpdated', () =>\r\n{\r\n  readSettings();\r\n  interaction.settingsUpdated();\r\n  storage.setCookie(storage.KEY.UF_GALLERY_PER_PAGE, settings.gallery.tracksPerPage,    (storage.YEAR_IN_SECONDS * 5));\r\n  storage.setCookie(storage.KEY.UF_PREFERRED_PLAYER, settings.playback.preferredPlayer, (storage.YEAR_IN_SECONDS * 5));\r\n  /*\r\n  {\r\n    const userSettings = JSON.stringify(\r\n    {\r\n      preferred_player: settings.playback.preferredPlayer,\r\n      gallery_per_page: settings.gallery.tracksPerPage,\r\n      list_per_page:    25,\r\n    });\r\n\r\n    storage.setCookie(storage.KEY.UF_USER_SETTINGS, userSettings, (storage.YEAR_IN_SECONDS * 5));\r\n  }\r\n  */\r\n});\r\n\r\n\r\n// ************************************************************************************************\r\n// Keyboard events handling\r\n// ************************************************************************************************\r\n\r\nfunction documentEventKeyDown(event)\r\n{\r\n  // UI keyboard events (cannot be disable by the user)\r\n  if ((event.repeat  === false) &&\r\n      (event.ctrlKey === false) &&\r\n      (event.altKey  === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'Escape':\r\n        if (navMenu.isVisible())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        return;\r\n    }\r\n  }\r\n\r\n  // User enabled keyboard shortcuts (on by default)\r\n  if (settings.site.keyboardShortcuts &&\r\n      (event.repeat  === false)       &&\r\n      (event.ctrlKey === false)       &&\r\n      (event.altKey  === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'c':\r\n      case 'C':\r\n        if (searchNotFocused())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'L':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.mProps.galleryLayout.toggle(event);\r\n          resize.trigger();\r\n        }\r\n        break;\r\n\r\n      case 's':\r\n      case 'S':\r\n        if (searchNotFocused() && notFullscreenElement())\r\n        {\r\n          event.preventDefault();\r\n          navSearch.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'T':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.mProps.siteTheme.toggle(event);\r\n        }\r\n        break;\r\n\r\n      case 'ArrowLeft':\r\n        if (event.shiftKey && noPlayback())\r\n        {\r\n          event.preventDefault();\r\n          utils.navToUrl(response.prevPage);\r\n        }\r\n        break;\r\n\r\n      case 'ArrowRight':\r\n        if (event.shiftKey && noPlayback())\r\n        {\r\n          event.preventDefault();\r\n          utils.navToUrl(response.nextPage);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction searchNotFocused()\r\n{\r\n  return ((navSearch.isVisible() === false) && (elements.siteContentSearch !== document.activeElement));\r\n}\r\n\r\nfunction notSettingsPage()\r\n{\r\n  return (document.body.classList.contains('page-settings') === false);\r\n}\r\n\r\nfunction notFullscreenElement()\r\n{\r\n  return ((elements.fullscreenTarget === null) ? true : false);\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Misc. support functions\r\n// ************************************************************************************************\r\n\r\nfunction showIntroBanner()\r\n{\r\n  // Only show intro banners if they can be permanently dismissed\r\n  if (storage.isAvailable('localStorage') && bannerProperty) // eslint-disable-line no-undef\r\n  {\r\n    if (settings.banners[bannerProperty]) // eslint-disable-line no-undef\r\n    {\r\n      elements.introBanner.style.display = 'block';\r\n      resize.trigger();\r\n\r\n      utils.addListener('#intro-banner .intro-banner-close-button', 'click', () =>\r\n      {\r\n        elements.introBanner.style.display   = '';\r\n        elements.siteContent.style.marginTop = '';\r\n        settings.banners[bannerProperty]     = false; // eslint-disable-line no-undef\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nfunction setPreviousPageTitle()\r\n{\r\n  if (document.querySelector('.navbar-title .go-back-to') !== null)\r\n  {\r\n    let pathString = '';\r\n\r\n    if (document.referrer.length === 0)\r\n    {\r\n      pathString = 'Previous Page';\r\n    }\r\n    else\r\n    {\r\n      const referrerUrlParts = new URL(decodeURIComponent(document.referrer));\r\n\r\n      if (referrerUrlParts.search.length !== 0)\r\n      {\r\n        pathString = 'Search Results';\r\n      }\r\n      else if (referrerUrlParts.pathname.length > 1)\r\n      {\r\n        const endSlash  = (referrerUrlParts.pathname.slice(-1) === '/') ? 1 : 0;\r\n        const pathParts = referrerUrlParts.pathname.slice(1, referrerUrlParts.pathname.length - endSlash).replace(/-/gi, ' ').split('/');\r\n\r\n        pathParts.forEach((part, index) =>\r\n        {\r\n          pathString += ((index + 1) < pathParts.length)\r\n                          ? part + ' / '\r\n                          : part;\r\n        });\r\n      }\r\n    }\r\n\r\n    document.querySelectorAll('#site-navigation .navbar-title').forEach(element =>\r\n    {\r\n      element.querySelector('.go-back-title').textContent = (pathString.length > 0) ? pathString : 'Ultrafunk (home)';\r\n      element.querySelector('.go-back-to').style.opacity  = 1;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// window.addEventListener('resize') handling\r\n// ************************************************************************************************\r\n\r\nconst resize = (() =>\r\n{\r\n  let headerHeight = 0;\r\n\r\n  return {\r\n    getHeaderHeight() { return headerHeight; },\r\n    addEventListener,\r\n    trigger: resizeEvent,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    resizeEvent();\r\n    window.addEventListener('resize', resizeEvent);\r\n  }\r\n  \r\n  function resizeEvent()\r\n  {\r\n    if (noPlayback())\r\n      headerHeight = utils.getCssPropValue('--site-header-height-no-playback');\r\n    else\r\n      headerHeight = utils.getCssPropValue('--site-header-height');\r\n\r\n    if ((elements.introBanner !== null) && (elements.introBanner.style.display.length !== 0))\r\n    {\r\n      elements.introBanner.style.marginTop = `${headerHeight}px`;\r\n      elements.siteContent.style.marginTop = `${utils.getCssPropValue('--site-content-margin-top', document.body)}px`;\r\n    }\r\n  }\r\n})();\r\n\r\n  \r\n// ************************************************************************************************\r\n// window.addEventListener('scroll') handling\r\n// ************************************************************************************************\r\n\r\nconst scroll = (() =>\r\n{\r\n  let lastScrollPos  = 0;\r\n  let isScrolledDown = false;\r\n\r\n  return {\r\n    addEventListener,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    scrollEvent();\r\n    window.addEventListener('scroll', scrollEvent);\r\n  }\r\n\r\n  function scrollEvent()\r\n  {\r\n    const currentScrollPos   = window.pageYOffset;\r\n    const scrollDownMenuHide = Math.round((resize.getHeaderHeight() > 150)\r\n                                 ? (resize.getHeaderHeight() / 2)\r\n                                 : (resize.getHeaderHeight() / 3));\r\n\r\n    // Extra check with Math.round() for non 0 and fractional pixel values when scrolled to top\r\n    if ((currentScrollPos === 0) || (Math.round(currentScrollPos) <= 1))\r\n    {\r\n      scrolledTop();\r\n    }\r\n    else if ((currentScrollPos > scrollDownMenuHide) && (currentScrollPos > lastScrollPos))\r\n    {\r\n      scrolledDown();\r\n    }\r\n    else\r\n    {\r\n      scrolledUp();\r\n    }\r\n\r\n    // Hide navigation search form on any scroll event\r\n    navSearch.hide();\r\n\r\n    lastScrollPos = currentScrollPos;\r\n  }\r\n\r\n  function scrolledTop()\r\n  {\r\n    elements.siteHeader.classList.remove('sticky-nav-down', 'sticky-nav-up');\r\n    elements.siteHeader.classList.add('hide-nav-menu');\r\n    navMenu.scrolledTop();\r\n  }\r\n\r\n  function scrolledDown()\r\n  {\r\n    if (isScrolledDown === false)\r\n    {\r\n      isScrolledDown = true;\r\n      utils.replaceClass(elements.siteHeader, 'sticky-nav-up', 'sticky-nav-down');\r\n    }\r\n  }\r\n\r\n  function scrolledUp()\r\n  {\r\n    if (isScrolledDown === true)\r\n    {\r\n      isScrolledDown = false;\r\n      utils.replaceClass(elements.siteHeader, 'sticky-nav-down', 'sticky-nav-up');\r\n    }\r\n\r\n    if (navMenu.isVisible())\r\n      navMenu.toggle();\r\n  }\r\n})();\r\n"],
  "mappings": "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",
  "names": []
}
